(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"5OiB":function(t,e,n){"use strict";n.r(e),n.d(e,"AdminModule",(function(){return Ot}));var c=n("3Pt+"),o=n("mrSG"),i=n("vBqF"),r=n("fXoL"),b=n("nr5L"),a=n("tyNb");let d=(()=>{class t{constructor(t,e){this.homeService=t,this.router=e,this.home=i.a.getState().home}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){try{this.unsubscribe=i.a.subscribe(()=>this.home=i.a.getState().home),i.a.getState().home||(yield this.homeService.getHomeData()),this.preview=this.home.backgroundImageFileName}catch(t){console.log(t.message)}}))}UpdateHomeObject(){return Object(o.a)(this,void 0,void 0,(function*(){try{yield this.homeService.UpdateHomeData(this.home),this.router.navigateByUrl("/home")}catch(t){console.log(t.message)}}))}displayPreview(t){this.home.backgroundImage=t;const e=new FileReader;e.onload=t=>this.preview=t.target.result.toString(),e.readAsDataURL(t)}ngOnDestroy(){this.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(b.a),r.Jb(a.b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-edit-home"]],decls:59,vars:8,consts:[[1,"home-container"],["alt","",1,"bgImg",3,"src"],[1,"uploadImage"],["for","backgroundFile",3,"click"],["type","file","accept","image/jpeg",3,"change"],["uploadImg",""],[1,"update-button"],["routerLink","/rent",1,"btn-rent",3,"click"],[1,"info-section"],[1,"contact-details"],["for","mailingAdress"],["type","text","name","mailingAdress","placeholder","Enter your mailing adress here",3,"ngModel","ngModelChange"],["for","phone"],["type","tel","name","phone","placeholder","Enter your phone for contact here",3,"ngModel","ngModelChange"],["for","fax"],["type","tel","name","fax","placeholder","Enter your fax for contact here",3,"ngModel","ngModelChange"],[1,"opening-hours"],["for","sundayToThursdayOpenHour"],["type","time","placeholder","Sunday to thursday opening hour",3,"ngModel","ngModelChange"],["type","time","placeholder","Sunday to thursday Closing hour",3,"ngModel","ngModelChange"],["type","time","placeholder","Friday opening hour",3,"ngModel","ngModelChange"],["type","time","placeholder","Friday closing hour",3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",0),r.Kb(1,"img",1),r.Ob(2,"div",2),r.Ob(3,"label",3),r.Vb("click",(function(){return r.oc(t),r.lc(9).click()})),r.yc(4,"CLICK TO CHOOSE BACKGROUND IMAGE"),r.Nb(),r.Kb(5,"br"),r.Kb(6,"br"),r.Kb(7,"br"),r.Ob(8,"input",4,5),r.Vb("change",(function(t){return e.displayPreview(t.target.files[0])})),r.Nb(),r.Nb(),r.Ob(10,"div",6),r.Ob(11,"label",7),r.Vb("click",(function(){return e.UpdateHomeObject()})),r.yc(12,"CLICK TO SAVE CHANGES"),r.Nb(),r.Nb(),r.Ob(13,"div",8),r.Ob(14,"div",9),r.Ob(15,"h2"),r.yc(16,"CONTACT DETAILS:"),r.Nb(),r.Ob(17,"label",10),r.yc(18,"Adress for mailing: "),r.Nb(),r.Kb(19,"br"),r.Ob(20,"input",11),r.Vb("ngModelChange",(function(t){return e.home.mailingAdress=t})),r.Nb(),r.Kb(21,"br"),r.Kb(22,"br"),r.Ob(23,"label",12),r.yc(24,"Phone number: "),r.Nb(),r.Ob(25,"input",13),r.Vb("ngModelChange",(function(t){return e.home.phone=t})),r.Nb(),r.Ob(26,"span"),r.yc(27,"\xa0\xa0\xa0|\xa0\xa0\xa0"),r.Nb(),r.Ob(28,"label",14),r.yc(29,"fax number: "),r.Nb(),r.Ob(30,"input",15),r.Vb("ngModelChange",(function(t){return e.home.fax=t})),r.Nb(),r.Kb(31,"br"),r.Kb(32,"br"),r.Nb(),r.Ob(33,"div",16),r.Ob(34,"h2"),r.yc(35,"OPENING HOURS:"),r.Nb(),r.Ob(36,"label",17),r.yc(37,"Enter here your opening hours:"),r.Nb(),r.Kb(38,"br"),r.Kb(39,"br"),r.Ob(40,"table"),r.Ob(41,"tr"),r.Ob(42,"td"),r.Ob(43,"span"),r.yc(44,"Sunday to thursday: "),r.Nb(),r.Nb(),r.Ob(45,"td"),r.Ob(46,"input",18),r.Vb("ngModelChange",(function(t){return e.home.sundayToThursdayOpenHour=t})),r.Nb(),r.Ob(47,"span"),r.yc(48," - "),r.Nb(),r.Ob(49,"input",19),r.Vb("ngModelChange",(function(t){return e.home.sundayToThursdayCloseHour=t})),r.Nb(),r.Nb(),r.Nb(),r.Ob(50,"tr"),r.Ob(51,"td"),r.Ob(52,"span"),r.yc(53,"Friday: "),r.Nb(),r.Nb(),r.Ob(54,"td"),r.Ob(55,"input",20),r.Vb("ngModelChange",(function(t){return e.home.fridayOpenHour=t})),r.Nb(),r.Ob(56,"span"),r.yc(57," - "),r.Nb(),r.Ob(58,"input",21),r.Vb("ngModelChange",(function(t){return e.home.fridayCloseHour=t})),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()}2&t&&(r.zb(1),r.gc("src",e.preview,r.pc),r.zb(19),r.fc("ngModel",e.home.mailingAdress),r.zb(5),r.fc("ngModel",e.home.phone),r.zb(5),r.fc("ngModel",e.home.fax),r.zb(16),r.fc("ngModel",e.home.sundayToThursdayOpenHour),r.zb(3),r.fc("ngModel",e.home.sundayToThursdayCloseHour),r.zb(6),r.fc("ngModel",e.home.fridayOpenHour),r.zb(3),r.fc("ngModel",e.home.fridayCloseHour))},directives:[a.c,c.c,c.i,c.l],styles:[".home-container[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(12,1fr);height:750px}.bgImg[_ngcontent-%COMP%]{grid-column:span 12;width:100%;position:absolute;z-index:-1}.uploadImage[_ngcontent-%COMP%]{grid-column:span 6;text-align:center;background-color:#0d0b0e;color:#c7bcba;margin:70px auto auto;width:500px;height:100px;font-size:x-large;font-family:Alata;padding-left:20px;padding-right:20px;cursor:pointer;line-height:100px}.label-img[_ngcontent-%COMP%]{margin:auto;cursor:pointer}input[type=file][_ngcontent-%COMP%]{display:none}input[type=tel][_ngcontent-%COMP%]{width:120px;margin-left:15px}input[type=text][_ngcontent-%COMP%]{width:420px;margin-left:15px}.update-button[_ngcontent-%COMP%]{grid-column:span 6;text-align:center;background-color:#0d0b0e;color:#c7bcba;margin:70px auto auto;width:500px;height:100px;font-size:x-large;font-family:Alata;padding-left:20px;padding-right:20px;cursor:pointer;line-height:100px}.info-section[_ngcontent-%COMP%]{position:absolute;grid-column:span 12;display:grid;grid-template-columns:repeat(12,1fr);bottom:0;width:100%;height:250px;background-color:rgba(199,188,186,.7)}.contact-details[_ngcontent-%COMP%], .opening-hours[_ngcontent-%COMP%]{margin:0 auto auto;width:70%;grid-column:span 6}.headline[_ngcontent-%COMP%]{font-family:Alata}"]}),t})(),s=(()=>{class t{constructor(){this.user=i.a.getState().user}ngOnInit(){this.unsubscribe=i.a.subscribe(()=>this.user=i.a.getState().user)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-dashboard"]],decls:25,vars:0,consts:[[1,"dashboard-container"],[1,"headline"],[1,"nav-container"],["routerLink","/home"],["routerLink","/admin/dashboard/edit-home"],["routerLink","/admin/dashboard/edit-branches"],["routerLink","/admin/dashboard/car-types"],["routerLink","/admin/dashboard/edit-availabilities"],["routerLink","/admin/dashboard/edit-users"],[1,"outlet-container"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"h1"),r.yc(3,"MANAGEMENT SECTION"),r.Nb(),r.Ob(4,"div",2),r.Ob(5,"li",3),r.Ob(6,"i"),r.yc(7,"Home"),r.Nb(),r.Nb(),r.Ob(8,"li",4),r.Ob(9,"i"),r.yc(10,"Edit Home"),r.Nb(),r.Nb(),r.Ob(11,"li",5),r.Ob(12,"i"),r.yc(13,"Branches"),r.Nb(),r.Nb(),r.Ob(14,"li",6),r.Ob(15,"i"),r.yc(16,"Cars & Car Types"),r.Nb(),r.Nb(),r.Ob(17,"li",7),r.Ob(18,"i"),r.yc(19,"Reservations"),r.Nb(),r.Nb(),r.Ob(20,"li",8),r.Ob(21,"i"),r.yc(22,"Users"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(23,"div",9),r.Kb(24,"router-outlet"),r.Nb(),r.Nb())},directives:[a.c,a.f],styles:[".dashboard-container[_ngcontent-%COMP%]{width:100%;position:relative;display:grid;grid-template-columns:repeat(12,1fr);text-align:center}.headline[_ngcontent-%COMP%]{font-family:Alata;color:#0d0b0e;cursor:pointer;width:100%;background-color:#c7bcba;grid-column:span 12;position:-webkit-sticky;position:sticky;top:0;z-index:3}h1[_ngcontent-%COMP%]{margin:37px}.nav-container[_ngcontent-%COMP%]{text-align:center;width:100%;background-color:#0d0b0e}i[_ngcontent-%COMP%]{font-family:Alata;color:#c7bcba;text-decoration:none;font-style:unset;font-size:18px;line-height:40px}i[_ngcontent-%COMP%]:hover{background-color:#c7bcba;color:#0d0b0e;transition:.5s}li[_ngcontent-%COMP%]{display:inline;color:#c7bcba;padding:4px;margin:20px}.manager-options-container[_ngcontent-%COMP%]{position:relative;text-align:center;align-items:center;grid-column:span 12;width:100%;margin:auto}.outlet-container[_ngcontent-%COMP%]{width:100%;grid-column:span 12;z-index:2}"]}),t})();var l=n("ofXK"),u=n("1YYS"),g=n("a5Mm"),h=n("R0Ic");class p{constructor(t,e){this.cartType=t,this.car=e}}var O=n("Q9yQ"),f=n("ICFT");let y=(()=>{class t{get windowRef(){return window}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var N=n("iY2L"),m=n("Lovl"),C=n("0IaG");let M=(()=>{class t{transform(t,...e){return!0===t?"Yes":"No"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ib({name:"yesNo",type:t,pure:!0}),t})();function T(t,e){1&t&&(r.Ob(0,"tr",31),r.Ob(1,"th"),r.yc(2,"Vehicle License Number"),r.Nb(),r.Ob(3,"th"),r.yc(4,"KM"),r.Nb(),r.Ob(5,"th"),r.yc(6,"Fixed & Ready"),r.Nb(),r.Ob(7,"th"),r.yc(8,"Available Now"),r.Nb(),r.Ob(9,"th"),r.yc(10,"Branch"),r.Nb(),r.Kb(11,"th"),r.Kb(12,"th"),r.Kb(13,"th"),r.Nb())}function A(t,e){1&t&&(r.Ob(0,"tr",32),r.yc(1," There are no cars for this type for now"),r.Nb())}function v(t,e){if(1&t&&(r.Ob(0,"option"),r.yc(1),r.Nb()),2&t){const t=e.$implicit;r.Ab("value",t.name)("selected",t.name==t.name||null),r.zb(1),r.zc(t.name)}}const P=function(t){return{"background-color":t}};function k(t,e){if(1&t){const t=r.Pb();r.Ob(0,"tr",44),r.Ob(1,"td",45),r.Vb("click",(function(){return r.oc(t),r.Zb(4).unchanged()})),r.yc(2),r.Nb(),r.Ob(3,"td"),r.Ob(4,"input",26),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.km=n})),r.Nb(),r.Nb(),r.Ob(5,"td"),r.Ob(6,"select",46),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.isFixed=n})),r.Ob(7,"option",47),r.yc(8,"Yes"),r.Nb(),r.Ob(9,"option",47),r.yc(10,"No"),r.Nb(),r.Nb(),r.Nb(),r.Ob(11,"td"),r.yc(12),r.ac(13,"yesNo"),r.Nb(),r.Ob(14,"td"),r.Ob(15,"select",48),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.branch=n})),r.wc(16,v,2,3,"option",7),r.Nb(),r.Nb(),r.Ob(17,"td"),r.Ob(18,"button",49),r.Vb("click",(function(){r.oc(t);const n=e.$implicit;return r.Zb(4).initBooksModel(n)})),r.yc(19,"BOOKS"),r.Nb(),r.Nb(),r.Ob(20,"td"),r.Ob(21,"button",21),r.Vb("click",(function(){r.oc(t);const n=e.$implicit,c=r.Zb(4),o=r.lc(2),i=r.lc(4);return c.UpdateCar(n,o,i)})),r.yc(22,"UPDATE"),r.Nb(),r.Nb(),r.Ob(23,"td"),r.Ob(24,"button",22),r.Vb("click",(function(){r.oc(t);const n=e.$implicit;return r.Zb(4).cancelCarEdit(n)})),r.yc(25,"CANCEL"),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit,n=e.index,c=r.Zb(4);r.fc("ngStyle",r.jc(12,P,n%2==0?"rgb(65, 80, 99)":"rgb(35, 44, 54)")),r.zb(2),r.Ac(" ",t.carId," "),r.zb(2),r.fc("ngModel",t.km),r.zb(2),r.fc("ngModel",t.isFixed),r.zb(1),r.fc("ngValue",!0),r.zb(2),r.fc("ngValue",!1),r.zb(3),r.zc(r.bc(13,10,t.isAvailable)),r.zb(3),r.fc("ngModel",t.branch),r.zb(1),r.fc("ngForOf",c.branches),r.zb(2),r.hc("routerLink","/admin/dashboard/edit-availabilities/",t.carId,"")}}function w(t,e){if(1&t&&(r.Ob(0,"option"),r.yc(1),r.Nb()),2&t){const t=e.$implicit;r.Ab("value",t.name),r.zb(1),r.zc(t.name)}}function x(t,e){if(1&t){const t=r.Pb();r.Mb(0,33),r.wc(1,k,26,14,"tr",34),r.Ob(2,"tr",35),r.yc(3,"Add New Car:"),r.Nb(),r.Ob(4,"table"),r.Ob(5,"thead"),r.Ob(6,"tr",36),r.Ob(7,"th"),r.yc(8,"Vehicle License Number*"),r.Nb(),r.Ob(9,"th"),r.yc(10,"KM*"),r.Nb(),r.Ob(11,"th"),r.yc(12,"Fixed & Ready*"),r.Nb(),r.Ob(13,"th"),r.yc(14,"Branch*"),r.Nb(),r.Kb(15,"th"),r.Kb(16,"th"),r.Nb(),r.Nb(),r.Ob(17,"tbody"),r.Ob(18,"tr",37),r.Ob(19,"td"),r.Ob(20,"input",38),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb(3).carToAdd.carId=e})),r.Nb(),r.Nb(),r.Ob(21,"td"),r.Ob(22,"input",39),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb(3).carToAdd.km=e})),r.Nb(),r.Nb(),r.Ob(23,"td"),r.Ob(24,"select",40),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb(3).carToAdd.isFixed=e})),r.Ob(25,"option",41),r.yc(26,"Yes"),r.Nb(),r.Ob(27,"option",42),r.yc(28,"No"),r.Nb(),r.Nb(),r.Nb(),r.Ob(29,"td"),r.Ob(30,"select",43),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb(3).carToAdd.branch=e})),r.wc(31,w,2,2,"option",7),r.Nb(),r.Nb(),r.Ob(32,"td"),r.Ob(33,"button",21),r.Vb("click",(function(){r.oc(t);const e=r.Zb().$implicit,n=r.Zb(2),c=r.lc(2),o=r.lc(4);return n.addNewCar(e,c,o)})),r.yc(34,"ADD"),r.Nb(),r.Nb(),r.Ob(35,"td"),r.Ob(36,"button",22),r.Vb("click",(function(){return r.oc(t),r.Zb(3).clearCarEdit()})),r.yc(37,"CLEAR"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Lb()}if(2&t){const t=r.Zb(3);r.zb(1),r.fc("ngForOf",t.cars),r.zb(19),r.fc("ngModel",t.carToAdd.carId),r.zb(2),r.fc("ngModel",t.carToAdd.km),r.zb(2),r.fc("ngModel",t.carToAdd.isFixed),r.zb(6),r.fc("ngModel",t.carToAdd.branch),r.zb(1),r.fc("ngForOf",t.branches)}}function D(t,e){if(1&t){const t=r.Pb();r.Ob(0,"tbody"),r.Ob(1,"tr",23),r.Ob(2,"td"),r.Ob(3,"input",11,12),r.Vb("change",(function(n){r.oc(t);const c=e.index;return r.Zb(2).changeImage(n.target.files[0],c)})),r.Nb(),r.Ob(5,"img",24),r.Vb("click",(function(){return r.oc(t),r.lc(4).click()})),r.Nb(),r.Nb(),r.Ob(6,"td"),r.Ob(7,"input",25),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.manufacturer=n})),r.Nb(),r.Nb(),r.Ob(8,"td"),r.Ob(9,"input",25),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.model=n})),r.Nb(),r.Nb(),r.Ob(10,"td"),r.Ob(11,"input",17),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.year=n})),r.Nb(),r.Nb(),r.Ob(12,"td"),r.Ob(13,"input",25),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.gear=n})),r.Nb(),r.Nb(),r.Ob(14,"td"),r.Ob(15,"input",26),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.pricePerDay=n})),r.Nb(),r.Nb(),r.Ob(16,"td"),r.Ob(17,"input",26),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.pricePerDayLate=n})),r.Nb(),r.Nb(),r.Ob(18,"td"),r.Ob(19,"button",21),r.Vb("click",(function(){r.oc(t);const n=e.index,c=r.Zb(2),o=r.lc(2),i=r.lc(4);return c.UpdateCarType(n,o,i)})),r.yc(20,"UPDATE"),r.Nb(),r.Nb(),r.Ob(21,"td"),r.Ob(22,"button",22),r.Vb("click",(function(){r.oc(t);const n=e.index;return r.Zb(2).cancelCarTypeEdit(n)})),r.yc(23,"CANCEL"),r.Nb(),r.Nb(),r.Nb(),r.Ob(24,"tr",27),r.Vb("click",(function(){r.oc(t);const n=e.index;return r.Zb(2).openCarsTable(n)})),r.yc(25," MANAGE CARS OF THIS TYPE "),r.Nb(),r.wc(26,T,14,0,"tr",28),r.wc(27,A,2,0,"tr",29),r.wc(28,x,38,6,"ng-container",30),r.Nb()}if(2&t){const t=e.$implicit,n=e.index,c=r.Zb(2);r.zb(5),r.fc("src",c.tempCarTypesImagesAsStrings[n],r.pc),r.zb(2),r.fc("ngModel",t.manufacturer),r.zb(2),r.fc("ngModel",t.model),r.zb(2),r.gc("value",t.year),r.fc("ngModel",t.year),r.zb(2),r.fc("ngModel",t.gear),r.zb(2),r.fc("ngModel",t.pricePerDay),r.zb(2),r.fc("ngModel",t.pricePerDayLate),r.zb(9),r.fc("ngIf",c.opened&&c.index===n&&c.cars.length>0),r.zb(1),r.fc("ngIf",c.opened&&c.index===n&&0===c.cars.length),r.zb(1),r.fc("ngIf",c.index===n&&c.cars&&c.opened)}}function S(t,e){if(1&t){const t=r.Pb();r.Ob(0,"img",50),r.Vb("click",(function(){return r.oc(t),r.Zb(),r.lc(53).click()})),r.Nb()}if(2&t){const t=r.Zb(2);r.fc("src",t.preview,r.pc)}}function I(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",51),r.Vb("click",(function(){return r.oc(t),r.Zb(),r.lc(53).click()})),r.yc(1,"Upload Image..."),r.Nb()}}function V(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",3),r.Ob(1,"div",4),r.Ob(2,"h2"),r.yc(3,"CARS FLEET"),r.Nb(),r.Ob(4,"h4"),r.yc(5,"(CLICK ANY PROPERTY TO EDIT)"),r.Nb(),r.Nb(),r.Ob(6,"div",5),r.Ob(7,"table"),r.Ob(8,"thead"),r.Ob(9,"tr",6),r.Ob(10,"th"),r.yc(11,"Image"),r.Nb(),r.Ob(12,"th"),r.yc(13,"Manufacturer"),r.Nb(),r.Ob(14,"th"),r.yc(15,"Model"),r.Nb(),r.Ob(16,"th"),r.yc(17,"Year"),r.Nb(),r.Ob(18,"th"),r.yc(19,"Gear Type"),r.Nb(),r.Ob(20,"th"),r.yc(21,"Price Per Day"),r.Nb(),r.Ob(22,"th"),r.yc(23,"Price Per Day Late"),r.Nb(),r.Kb(24,"th"),r.Kb(25,"th"),r.Nb(),r.Nb(),r.wc(26,D,29,11,"tbody",7),r.Nb(),r.Ob(27,"h5",4),r.yc(28,"Add New Car Type:"),r.Nb(),r.Ob(29,"table"),r.Ob(30,"thead"),r.Ob(31,"tr",6),r.Ob(32,"th"),r.yc(33,"Image*"),r.Nb(),r.Ob(34,"th"),r.yc(35,"Manufacturer*"),r.Nb(),r.Ob(36,"th"),r.yc(37,"Model*"),r.Nb(),r.Ob(38,"th"),r.yc(39,"Year*"),r.Nb(),r.Ob(40,"th"),r.yc(41,"Gear Type*"),r.Nb(),r.Ob(42,"th"),r.yc(43,"Price Per Day*"),r.Nb(),r.Ob(44,"th"),r.yc(45,"Price Per Day Late*"),r.Nb(),r.Kb(46,"th"),r.Kb(47,"th"),r.Nb(),r.Nb(),r.Ob(48,"tbody"),r.Ob(49,"tr",8),r.Ob(50,"td",9),r.wc(51,S,1,1,"img",10),r.Ob(52,"input",11,12),r.Vb("change",(function(e){return r.oc(t),r.Zb().displayNewCarPreview(e.target.files[0])})),r.Nb(),r.wc(54,I,2,0,"button",13),r.Kb(55,"br"),r.Kb(56,"img",14),r.Nb(),r.Ob(57,"td"),r.Ob(58,"input",15),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().carTypeToAdd.manufacturer=e})),r.Nb(),r.Nb(),r.Ob(59,"td"),r.Ob(60,"input",16),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().carTypeToAdd.model=e})),r.Nb(),r.Nb(),r.Ob(61,"td"),r.Ob(62,"input",17),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().carTypeToAdd.year=e})),r.Nb(),r.Nb(),r.Ob(63,"td"),r.Ob(64,"input",18),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().carTypeToAdd.gear=e})),r.Nb(),r.Nb(),r.Ob(65,"td"),r.Ob(66,"input",19),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().carTypeToAdd.pricePerDay=e})),r.Nb(),r.Nb(),r.Ob(67,"td"),r.Ob(68,"input",20),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().carTypeToAdd.pricePerDayLate=e})),r.Nb(),r.Nb(),r.Ob(69,"td"),r.Ob(70,"button",21),r.Vb("click",(function(){r.oc(t);const e=r.Zb(),n=r.lc(2),c=r.lc(4);return e.addNewCarType(n,c)})),r.yc(71,"ADD"),r.Nb(),r.Nb(),r.Ob(72,"td"),r.Ob(73,"button",22),r.Vb("click",(function(){return r.oc(t),r.Zb().clearCarTypeEdit()})),r.yc(74,"CLEAR"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=r.Zb();r.zb(26),r.fc("ngForOf",t.carTypes),r.zb(25),r.fc("ngIf",t.carTypeToAdd.image),r.zb(3),r.fc("ngIf",!t.carTypeToAdd.image),r.zb(2),r.fc("src",t.carTypeToAdd.imageFileName,r.pc),r.zb(2),r.fc("ngModel",t.carTypeToAdd.manufacturer),r.zb(2),r.fc("ngModel",t.carTypeToAdd.model),r.zb(2),r.gc("value",t.carTypeToAdd.year),r.fc("ngModel",t.carTypeToAdd.year),r.zb(2),r.fc("ngModel",t.carTypeToAdd.gear),r.zb(2),r.fc("ngModel",t.carTypeToAdd.pricePerDay),r.zb(2),r.fc("ngModel",t.carTypeToAdd.pricePerDayLate)}}function z(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",52),r.Ob(1,"i",53),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(2,"close"),r.Nb(),r.Ob(3,"h4"),r.yc(4,"Process ended successfuly!"),r.Nb(),r.Ob(5,"div"),r.Ob(6,"button",21),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(7,"OK"),r.Nb(),r.Nb(),r.Nb()}}function Z(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",52),r.Ob(1,"i",53),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(2,"close"),r.Nb(),r.Ob(3,"h4"),r.yc(4,"Sorry, but some error occured."),r.Nb(),r.Ob(5,"div"),r.Ob(6,"button",21),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(7,"OK"),r.Nb(),r.Nb(),r.Nb()}}let _=(()=>{class t{constructor(t,e,n,c,o,r){this.carTypesService=t,this.router=e,this.windowService=n,this.carsService=c,this.branchesService=o,this.dialog=r,this.carTypes=i.a.getState().carTypes,this.cars=[],this.branches=i.a.getState().branches,this.tempCarTypesImagesAsStrings=new Array,this.carTypesImageChangedIds=new Array,this.carTypeToAdd=new u.a,this.carToAdd=new g.a,this.index=0,this.opened=!1,this.indexedDB=this.windowService.windowRef.indexedDB,this.IDBTransaction=this.windowService.windowRef.IDBTransaction,this.dbVersion=1}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){try{if(this.unsubscribe=i.a.subscribe(()=>{this.carTypes=i.a.getState().carTypes,this.branches=i.a.getState().branches}),0===i.a.getState().carTypes.length&&(yield this.carTypesService.getAllCarTypes())){this.carTypes=i.a.getState().carTypes,this.tempCarTypesImages=new Array(this.carTypes.length);for(let t of this.carTypes)this.tempCarTypesImagesAsStrings.push(t.imageFileName)}0===i.a.getState().branches.length&&(yield this.branchesService.getAllBranches()),this.index=-1}catch(t){console.log(t.message)}}))}changeImage(t,e){this.carTypes[e].image=t;const n=new FileReader;n.onload=n=>{this.tempCarTypesImagesAsStrings[e]=n.target.result.toString(),this.tempCarTypesImages[e]=t,console.log(this.tempCarTypesImagesAsStrings[e]),console.log(this.tempCarTypesImages[e].name)},n.readAsDataURL(t)}UpdateCarType(t,e,n){return Object(o.a)(this,void 0,void 0,(function*(){try{console.log(this.carTypes[t]),yield this.carTypesService.UpdateCarType(this.carTypes[t]),this.carTypes=i.a.getState().carTypes,this.openDialog(e)}catch(c){console.log(c.message),this.openDialog(n)}}))}UpdateCar(t,e,n){return Object(o.a)(this,void 0,void 0,(function*(){try{console.log(t),yield this.carsService.updateCar(t),this.carTypes=i.a.getState().carTypes,this.openDialog(e)}catch(c){console.log(c.message),this.openDialog(n)}}))}cancelCarTypeEdit(t){return Object(o.a)(this,void 0,void 0,(function*(){yield this.carTypesService.getAllCarTypes()}))}displayNewCarPreview(t){this.carTypeToAdd.image=t;const e=new FileReader;e.onload=t=>this.preview=t.target.result.toString(),e.readAsDataURL(t)}addNewCarType(t,e){return Object(o.a)(this,void 0,void 0,(function*(){try{yield this.carTypesService.AddNewCarType(this.carTypeToAdd),this.carTypes=i.a.getState().carTypes,this.openDialog(t)}catch(n){console.log(n.message),this.openDialog(e)}}))}addNewCar(t,e,n){return Object(o.a)(this,void 0,void 0,(function*(){if(""!=this.carToAdd.carId&&""!=this.carToAdd.branch)try{this.carToAdd.carTypeId=t.carTypeId,yield this.carsService.AddCar(this.carToAdd),yield this.carsService.getCarsByCarType(t.carTypeId),this.cars=i.a.getState().carsByCarType,this.openDialog(e),this.carToAdd=new g.a}catch(c){console.log(c.message),this.openDialog(n)}else alert("All fields are required")}))}clearCarTypeEdit(){this.carTypeToAdd=new u.a}clearCarEdit(){this.carToAdd=new g.a}unchanged(){alert("Car vehicle license number in unchangable. \nIf needed, delete and add as new.")}cancelCarEdit(t){return Object(o.a)(this,void 0,void 0,(function*(){yield this.carsService.getCarsByCarType(t.carTypeId),this.cars=i.a.getState().carsByCarType}))}initBooksModel(t){const e=new p;e.cartType=this.carTypes.find(e=>e.carTypeId==t.carTypeId),e.car=t,i.a.dispatch({type:O.a.GetRentsByCarId,payload:e})}openCarsTable(t){return Object(o.a)(this,void 0,void 0,(function*(){const e=this.carTypes[t].carTypeId;yield this.carsService.getCarsByCarType(e),this.cars=i.a.getState().carsByCarType,-1===this.index&&(this.index=t),this.index===t&&!1===this.opened?this.opened=!0:this.index===t&&!0===this.opened?this.opened=!1:(this.index!==t&&!0===this.opened||this.index!==t&&!1===this.opened)&&(console.log(this.opened),this.index=t,this.opened=!0)}))}openDialog(t){this.localTemplateRef=this.dialog.open(t,{width:"fit-content",panelClass:"custom-dialog-container"})}onCloseDialog(){this.dialog.closeAll()}ngOnDestroy(){this.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(f.a),r.Jb(a.b),r.Jb(y),r.Jb(N.a),r.Jb(m.a),r.Jb(C.a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-car-types"]],decls:5,vars:1,consts:[["class","cars-container",4,"ngIf"],["succeeded",""],["failed",""],[1,"cars-container"],[1,"headline"],[1,"cars-table"],[1,"tr-head"],[4,"ngFor","ngForOf"],[1,"tr-add",2,"background-color","rgb(55, 64, 35)"],[2,"padding","10px"],["alt","",3,"src","click",4,"ngIf"],["type","file",1,"file-input",3,"change"],["imageBox",""],["class","btn btn-primary","type","button",3,"click",4,"ngIf"],[1,"car-imgae",3,"src"],["type","text","placeholder","Manufacturer",3,"ngModel","ngModelChange"],["type","text","placeholder","model",3,"ngModel","ngModelChange"],["type","number","min","1900","max","2099","step","1",3,"value","ngModel","ngModelChange"],["type","text","placeholder","gear",3,"ngModel","ngModelChange"],["type","number","placeholder","price Per Day",3,"ngModel","ngModelChange"],["type","number","placeholder","price Per Day Late",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[2,"background-color","rgb(55, 64, 35)"],[1,"car-imgae",3,"src","click"],["type","text",1,"exist-car-input",3,"ngModel","ngModelChange"],["type","number",1,"exist-car-input",3,"ngModel","ngModelChange"],[1,"tr-manage",2,"background-color","rgb(28, 41, 32)",3,"click"],["style","background-color: rgb(199, 188, 186);margin: auto;",4,"ngIf"],["style","background-color: rgb(13, 11, 14);margin: auto;","class","no-cars",4,"ngIf"],["style","margin: auto;",4,"ngIf"],[2,"background-color","rgb(199, 188, 186)","margin","auto"],[1,"no-cars",2,"background-color","rgb(13, 11, 14)","margin","auto"],[2,"margin","auto"],["class","tr-add-car","style","margin: auto; height: 45px;",3,"ngStyle",4,"ngFor","ngForOf"],[1,"headline",2,"width","840px"],[1,"tr-head",2,"width","840px"],[1,"tr-add-car",2,"background-color","rgb(65, 80, 99)","margin","auto","width","840px"],["type","text",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],["name","isFixed",2,"background-color","inherit",3,"ngModel","ngModelChange"],["value","Yes"],["value","No"],["name","branches",2,"background-color","inherit",3,"ngModel","ngModelChange"],[1,"tr-add-car",2,"margin","auto","height","45px",3,"ngStyle"],[3,"click"],["name","isFixed","id","isFixed",1,"exist-car-input",3,"ngModel","ngModelChange"],[3,"ngValue"],["name","branches","id","branches",1,"exist-car-input",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"routerLink","click"],["alt","",3,"src","click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"box"],[1,"material-icons","icon-close",3,"click"]],template:function(t,e){1&t&&(r.wc(0,V,75,11,"div",0),r.wc(1,z,8,0,"ng-template",null,1,r.xc),r.wc(3,Z,8,0,"ng-template",null,2,r.xc)),2&t&&r.fc("ngIf",e.carTypes)},directives:[l.l,l.k,c.c,c.i,c.l,c.n,c.q,c.m,c.s,l.m,a.c],pipes:[M],styles:['.cars-container[_ngcontent-%COMP%]{width:80%;margin:auto}table[_ngcontent-%COMP%]{width:1000px;margin:auto auto 40px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:none;padding:0;width:120px;max-width:120px;text-align:center}th[_ngcontent-%COMP%]{color:#0d0b0e}.tr-head[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{background-color:#c7bcba}.tr-head[_ngcontent-%COMP%]{margin:auto}.tr-add-car[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:60px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-align:center;width:100px;cursor:pointer;background-color:inherit}input[type=radio][_ngcontent-%COMP%]{display:inline}.exist-car-input[_ngcontent-%COMP%]{border:none;background-color:inherit;color:#c7bcba}.file-input[_ngcontent-%COMP%]{display:none}img[_ngcontent-%COMP%]{width:120px;cursor:pointer}.headline[_ngcontent-%COMP%]{font-family:Alata;margin:40px auto;padding:10px;color:#0d0b0e;width:1000px;background-color:#c7bcba}table[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{display:table}.tr-manage[_ngcontent-%COMP%]{width:1000px;display:table-row;cursor:pointer}.tr-manage[_ngcontent-%COMP%]:after, .tr-manage[_ngcontent-%COMP%]:before{content:" \\25BC"}.no-cars[_ngcontent-%COMP%]{width:100%;font-size:large}tr[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#c7bcba}tr[_ngcontent-%COMP%]   .tr-manage[_ngcontent-%COMP%]{background-color:#374023}tr[_ngcontent-%COMP%]   .tr-main[_ngcontent-%COMP%]{background-color:#1c2920}'],data:{animation:[Object(h.j)("fadeInOut",[Object(h.i)(":enter",[Object(h.h)({opacity:0}),Object(h.e)(500,Object(h.h)({opacity:1}))]),Object(h.i)(":leave",[Object(h.e)(500,Object(h.h)({opacity:0}))])])]}}),t})();class R{constructor(t,e,n,c,o,i,r,b,a){this.branchId=t,this.locationId=e,this.name=n,this.latitude=c,this.longitude=o,this.country=i,this.city=r,this.adressLine=b,this.postalZipCode=a}}var K=n("pxUr"),L=n("tk/3"),B=n("7b+v");function E(t,e){if(1&t){const t=r.Pb();r.Ob(0,"tr"),r.Ob(1,"td"),r.Ob(2,"figure"),r.Ob(3,"input",11),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.city=n})),r.Nb(),r.Nb(),r.Nb(),r.Ob(4,"td"),r.Ob(5,"figure"),r.Ob(6,"input",11),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.name=n})),r.Nb(),r.Nb(),r.Nb(),r.Ob(7,"td"),r.Ob(8,"figure"),r.Ob(9,"input",11),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.adressLine=n})),r.Nb(),r.Nb(),r.Nb(),r.Ob(10,"td"),r.Ob(11,"figure"),r.Ob(12,"input",11),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.postalZipCode=n})),r.Nb(),r.Nb(),r.Nb(),r.Ob(13,"td"),r.Ob(14,"figure"),r.Ob(15,"button",7),r.Vb("click",(function(){r.oc(t);const n=e.$implicit;return r.Zb(2).updateBranch(n)})),r.yc(16,"Update"),r.Nb(),r.Nb(),r.Nb(),r.Ob(17,"td"),r.Ob(18,"figure"),r.Ob(19,"button",8),r.Vb("click",(function(){r.oc(t);const n=e.$implicit;return r.Zb(2).deleteBranch(n)})),r.yc(20,"Delete"),r.Nb(),r.Nb(),r.Nb(),r.Ob(21,"td"),r.Ob(22,"figure"),r.Ob(23,"button",8),r.Vb("click",(function(){r.oc(t);const n=e.$implicit;return r.Zb(2).reset(n)})),r.yc(24,"Clear"),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit;r.zb(3),r.fc("ngModel",t.city),r.zb(3),r.fc("ngModel",t.name),r.zb(3),r.fc("ngModel",t.adressLine),r.zb(3),r.fc("ngModel",t.postalZipCode)}}function U(t,e){if(1&t){const t=r.Pb();r.Ob(0,"agm-marker-cluster"),r.Ob(1,"agm-marker",14),r.Vb("markerClick",(function(n){r.oc(t);const c=e.$implicit;return r.Zb(3).changeLocationOnMap(n,c)})),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit;r.zb(1),r.fc("latitude",t.latitude)("longitude",t.longitude)}}function F(t,e){if(1&t&&r.Kb(0,"agm-marker",15),2&t){const t=r.Zb(3);r.fc("latitude",t.branchToAdd.latitude)("longitude",t.branchToAdd.longitude)}}function j(t,e){if(1&t){const t=r.Pb();r.Ob(0,"agm-map",12),r.Vb("latitudeChange",(function(e){return r.oc(t),r.Zb(2).latitude=e}))("longitudeChange",(function(e){return r.oc(t),r.Zb(2).longitude=e}))("zoomChange",(function(e){return r.oc(t),r.Zb(2).mapZoom=e}))("mapClick",(function(e){return r.oc(t),r.Zb(2).markLocation(e)})),r.wc(1,U,2,2,"agm-marker-cluster",5),r.wc(2,F,1,2,"agm-marker",13),r.Nb()}if(2&t){const t=r.Zb(2);r.fc("latitude",t.latitude)("longitude",t.longitude)("zoom",t.mapZoom),r.zb(1),r.fc("ngForOf",t.branches),r.zb(1),r.fc("ngIf",t.branchToAddMarker)}}function $(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",3),r.Ob(1,"table"),r.Ob(2,"thead"),r.Ob(3,"tr",4),r.Ob(4,"th"),r.yc(5,"Branch Name"),r.Nb(),r.Ob(6,"th"),r.yc(7,"City"),r.Nb(),r.Ob(8,"th"),r.yc(9,"Adress Line"),r.Nb(),r.Ob(10,"th"),r.yc(11,"Postal Zip Code"),r.Nb(),r.Kb(12,"th"),r.Kb(13,"th"),r.Kb(14,"th"),r.Nb(),r.Nb(),r.Ob(15,"tbody"),r.wc(16,E,25,4,"tr",5),r.Nb(),r.Nb(),r.Kb(17,"br"),r.Ob(18,"h5",1),r.yc(19,"Add New Branch (You can simply click on the exact place inside the map):"),r.Nb(),r.Ob(20,"table"),r.Ob(21,"thead"),r.Ob(22,"tr",4),r.Ob(23,"th"),r.yc(24,"Branch Name*"),r.Nb(),r.Ob(25,"th"),r.yc(26,"City*"),r.Nb(),r.Ob(27,"th"),r.yc(28,"Adress Line*"),r.Nb(),r.Ob(29,"th"),r.yc(30,"Postal Zip Code"),r.Nb(),r.Kb(31,"th"),r.Kb(32,"th"),r.Nb(),r.Nb(),r.Ob(33,"tbody"),r.Ob(34,"tr"),r.Ob(35,"td"),r.Ob(36,"input",6),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().branchToAdd.name=e})),r.Nb(),r.Nb(),r.Ob(37,"td"),r.Ob(38,"input",6),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().branchToAdd.city=e})),r.Nb(),r.Nb(),r.Ob(39,"td"),r.Ob(40,"input",6),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().branchToAdd.adressLine=e})),r.Nb(),r.Nb(),r.Ob(41,"td"),r.Ob(42,"input",6),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().branchToAdd.postalZipCode=e})),r.Nb(),r.Nb(),r.Ob(43,"td"),r.Ob(44,"button",7),r.Vb("click",(function(){return r.oc(t),r.Zb().AddBranch()})),r.yc(45,"Add Branch"),r.Nb(),r.Nb(),r.Ob(46,"td"),r.Ob(47,"button",8),r.Vb("click",(function(){return r.oc(t),r.Zb().clear()})),r.yc(48,"Clear"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Kb(49,"br"),r.Ob(50,"div",9),r.Ob(51,"span"),r.yc(52),r.Nb(),r.Ob(53,"span"),r.yc(54),r.Nb(),r.wc(55,j,3,5,"agm-map",10),r.Nb(),r.Nb()}if(2&t){const t=r.Zb();r.zb(16),r.fc("ngForOf",t.branches),r.zb(20),r.fc("ngModel",t.branchToAdd.name),r.zb(2),r.fc("ngModel",t.branchToAdd.city),r.zb(2),r.fc("ngModel",t.branchToAdd.adressLine),r.zb(2),r.fc("ngModel",t.branchToAdd.postalZipCode),r.zb(10),r.zc(t.latitude),r.zb(2),r.zc(t.longitude),r.zb(1),r.fc("ngIf",t.branches&&t.branches[0])}}let H=(()=>{class t{constructor(t,e,n){this.branchesService=t,this.mapsApiLoader=e,this.http=n,this.branches=i.a.getState().branches,this.branchToAdd=new R,this.latitude=31.775466074016084,this.longitude=35.22217360892053,this.mapZoom=8}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){try{this.unsubscribe=i.a.subscribe(()=>this.branches=i.a.getState().branches),0===i.a.getState().branches.length&&(yield this.branchesService.getAllBranches().then(()=>{this.latitude=this.branches[0].latitude,this.longitude=this.branches[0].longitude,this.mapZoom=8})),this.mapsApiLoader.load().then(()=>{this.geocoder=new google.maps.Geocoder,this.branchToAddMarker=new google.maps.Marker,this.geocodeRequest=new Object,this.location=new google.maps.LatLng(1,1)})}catch(t){console.log(t.message)}}))}changeLocationOnMap(t,e){this.latitude=e.latitude,this.longitude=e.longitude,this.mapZoom=15,console.dir(t.latitude)}AddBranch(){return Object(o.a)(this,void 0,void 0,(function*(){""==this.branchToAdd.name&&alert("Branch Name Is Required!"),""==this.branchToAdd.city&&alert("Branch City Is Required!"),""==this.branchToAdd.adressLine&&alert("Branch Adress Line Is Required!");try{yield this.branchesService.AddBranch(this.branchToAdd)}catch(t){console.log(t.message)}}))}updateBranch(t){return Object(o.a)(this,void 0,void 0,(function*(){try{yield this.branchesService.updateBranch(t)}catch(e){console.log(e.message)}}))}deleteBranch(t){return Object(o.a)(this,void 0,void 0,(function*(){try{yield this.branchesService.deleteBranch(t.branchId)}catch(e){console.log(e.message)}}))}markLocation(t){return Object(o.a)(this,void 0,void 0,(function*(){this.branchToAdd.latitude=t.coords.lat,this.branchToAdd.longitude=t.coords.lng,console.log(this.branchToAdd.latitude),console.log(this.branchToAdd.longitude),this.location.lat=()=>this.branchToAdd.latitude,this.location.lng=()=>this.branchToAdd.longitude,this.geocodeRequest.location=this.location,yield this.geocoder.geocode(this.geocodeRequest,(t,e)=>{var n,c,o;if("OK"===e){console.log(t),this.branchToAddMarker.setPosition(t[0].geometry.location),this.branchToAdd.city=null===(n=t[0].address_components[2])||void 0===n?void 0:n.long_name,this.branchToAdd.adressLine=(null===(c=t[0].address_components[1])||void 0===c?void 0:c.long_name)+", "+(null===(o=t[0])||void 0===o?void 0:o.address_components[0].long_name);for(let e of t)for(let t of e.types)"country"===t&&(this.branchToAdd.country=e.formatted_address,console.log("country: "+this.branchToAdd.country))}})}))}clear(){this.branchToAdd.adressLine="",this.branchToAdd.city="",this.branchToAdd.name="",this.branchToAdd.postalZipCode="",this.branchToAdd.country=""}reset(t){return Object(o.a)(this,void 0,void 0,(function*(){yield this.branchesService.getAllBranches()}))}ngOnDestroy(){this.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(m.a),r.Jb(K.f),r.Jb(L.b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-edit-branches"]],decls:7,vars:1,consts:[[1,"branches-container"],[1,"headline"],["class","table-container",4,"ngIf"],[1,"table-container"],[1,"tr-head"],[4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"map-container"],[3,"latitude","longitude","zoom","latitudeChange","longitudeChange","zoomChange","mapClick",4,"ngIf"],["type","text",1,"exist-branch",3,"ngModel","ngModelChange"],[3,"latitude","longitude","zoom","latitudeChange","longitudeChange","zoomChange","mapClick"],[3,"latitude","longitude",4,"ngIf"],[3,"latitude","longitude","markerClick"],[3,"latitude","longitude"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"h1"),r.yc(3,"BRANCHES MANAGEMENT"),r.Nb(),r.Ob(4,"h4"),r.yc(5,"(CLICK ANY PROPERTY TO EDIT)"),r.Nb(),r.Nb(),r.wc(6,$,56,8,"div",2),r.Nb()),2&t&&(r.zb(6),r.fc("ngIf",e.branches))},directives:[l.l,l.k,c.c,c.i,c.l,K.b,B.b,K.c],styles:["agm-map[_ngcontent-%COMP%]{height:400px;width:75%;margin:auto auto auto 100px}.map-container[_ngcontent-%COMP%]{margin:auto auto 40px 25%}.branches-container[_ngcontent-%COMP%]{display:grid;width:80%;margin:auto;text-align:center;align-items:center}table[_ngcontent-%COMP%]{width:1000px;margin:auto auto 40px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:none;padding:0;width:120px;max-width:120px;height:40px}tr[_ngcontent-%COMP%]{height:60px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n) > *[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   input[_ngcontent-%COMP%]{background-color:#374023;color:#c7bcba}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd) > *[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd)   input[_ngcontent-%COMP%]{background-color:#1c2920;color:#c7bcba}.tr-head[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{background-color:#c7bcba;text-align:center}input[_ngcontent-%COMP%]{margin:auto;height:30px;width:100px;cursor:pointer}figure[_ngcontent-%COMP%]{text-align:center;margin-bottom:0}.table-container[_ngcontent-%COMP%]{width:100%;text-align:center;align-items:center}.exist-branch[_ngcontent-%COMP%]{border:1px #0d0b0e}.headline[_ngcontent-%COMP%]{font-family:Alata;margin:40px auto;padding:10px;width:1000px;background-color:#c7bcba}"]}),t})();var J=n("Tj/N"),G=n("6Qg2");function Y(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",25),r.Vb("click",(function(){return r.oc(t),r.Zb(),r.lc(4).click()})),r.yc(1,"Upload Image"),r.Nb()}}function q(t,e){if(1&t){const t=r.Pb();r.Ob(0,"tr"),r.Ob(1,"td"),r.wc(2,Y,2,0,"button",19),r.Ob(3,"input",11,12),r.Vb("change",(function(n){r.oc(t);const c=e.index;return r.Zb(2).displayPreview(n.target.files[0],c)})),r.Nb(),r.Ob(5,"img",20),r.Vb("click",(function(){return r.oc(t),r.lc(4).click()})),r.Nb(),r.Nb(),r.Ob(6,"td",21),r.Vb("click",(function(){return r.oc(t),r.Zb(2).changeForbidden()})),r.yc(7),r.Nb(),r.Ob(8,"td"),r.Ob(9,"input",22),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.firstName=n})),r.Nb(),r.Nb(),r.Ob(10,"td"),r.Ob(11,"input",22),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.lastName=n})),r.Nb(),r.Nb(),r.Ob(12,"td"),r.Ob(13,"input",22),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.gender=n})),r.Nb(),r.Nb(),r.Ob(14,"td"),r.Ob(15,"input",23),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.birthDate=n})),r.Nb(),r.Nb(),r.Ob(16,"td"),r.Ob(17,"input",24),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.email=n})),r.Nb(),r.Nb(),r.Ob(18,"td"),r.Ob(19,"input",22),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.username=n})),r.Nb(),r.Nb(),r.Ob(20,"td"),r.Ob(21,"input",22),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.password=n})),r.Nb(),r.Nb(),r.Ob(22,"td"),r.Ob(23,"input",22),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.role=n})),r.Nb(),r.Nb(),r.Ob(24,"td"),r.Ob(25,"button",18),r.Vb("click",(function(){r.oc(t);const n=e.$implicit,c=r.Zb(2),o=r.lc(10),i=r.lc(12);return c.updateUser(n,o,i)})),r.yc(26,"UPDATE USER"),r.Nb(),r.Nb(),r.Ob(27,"td"),r.Ob(28,"button",8),r.Vb("click",(function(){r.oc(t);const n=e.$implicit;return r.Zb(2).deleteUser(n)})),r.yc(29,"DELETE"),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit,n=e.index,c=r.Zb(2);r.zb(2),r.fc("ngIf",!t.imageFileName&&!t.image),r.zb(3),r.fc("src",c.tempUsersImages[n],r.pc),r.zb(2),r.zc(t.userId),r.zb(2),r.fc("ngModel",t.firstName),r.zb(2),r.fc("ngModel",t.lastName),r.zb(2),r.fc("ngModel",t.gender),r.zb(2),r.fc("ngModel",t.birthDate),r.zb(2),r.fc("ngModel",t.email),r.zb(2),r.fc("ngModel",t.username),r.zb(2),r.fc("ngModel",t.password),r.zb(2),r.fc("ngModel",t.role)}}function Q(t,e){if(1&t){const t=r.Pb();r.Ob(0,"img",26),r.Vb("click",(function(){return r.oc(t),r.Zb(),r.lc(75).click()})),r.Nb()}if(2&t){const t=r.Zb(2);r.fc("src",t.preview,r.pc)}}function X(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",27),r.Vb("click",(function(){return r.oc(t),r.Zb(),r.lc(75).click()})),r.yc(1,"Upload Image..."),r.Nb()}}function W(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div"),r.Ob(1,"table",5),r.Ob(2,"thead"),r.Ob(3,"tr",6),r.Ob(4,"th"),r.yc(5,"Image"),r.Nb(),r.Ob(6,"th"),r.yc(7,"User ID"),r.Nb(),r.Ob(8,"th"),r.yc(9,"First Name"),r.Nb(),r.Ob(10,"th"),r.yc(11,"Last Name"),r.Nb(),r.Ob(12,"th"),r.yc(13,"Gender"),r.Nb(),r.Ob(14,"th"),r.yc(15,"Birth Date"),r.Nb(),r.Ob(16,"th"),r.yc(17,"Email"),r.Nb(),r.Ob(18,"th"),r.yc(19,"Username"),r.Nb(),r.Ob(20,"th"),r.yc(21,"Password"),r.Nb(),r.Ob(22,"th"),r.yc(23,"Role"),r.Nb(),r.Kb(24,"th"),r.Kb(25,"th"),r.Nb(),r.Nb(),r.Ob(26,"tbody"),r.wc(27,q,30,11,"tr",7),r.Ob(28,"tr"),r.Kb(29,"td"),r.Kb(30,"td"),r.Kb(31,"td"),r.Kb(32,"td"),r.Kb(33,"td"),r.Ob(34,"td"),r.Ob(35,"button",8),r.Vb("click",(function(){return r.oc(t),r.Zb().clearChanges()})),r.yc(36,"CLEAR CHANGES"),r.Nb(),r.Nb(),r.Kb(37,"td"),r.Kb(38,"td"),r.Kb(39,"td"),r.Kb(40,"td"),r.Kb(41,"td"),r.Nb(),r.Nb(),r.Nb(),r.Kb(42,"br"),r.Ob(43,"h5",1),r.yc(44,"Add New User"),r.Nb(),r.Ob(45,"table"),r.Ob(46,"thead"),r.Ob(47,"tr",6),r.Ob(48,"th"),r.yc(49,"Image"),r.Nb(),r.Ob(50,"th"),r.yc(51,"User ID"),r.Nb(),r.Ob(52,"th"),r.yc(53,"First Name"),r.Nb(),r.Ob(54,"th"),r.yc(55,"Last Name"),r.Nb(),r.Ob(56,"th"),r.yc(57,"Gender"),r.Nb(),r.Ob(58,"th"),r.yc(59,"Birth Date"),r.Nb(),r.Ob(60,"th"),r.yc(61,"Email"),r.Nb(),r.Ob(62,"th"),r.yc(63,"Username"),r.Nb(),r.Ob(64,"th"),r.yc(65,"Password"),r.Nb(),r.Ob(66,"th"),r.yc(67,"Role"),r.Nb(),r.Kb(68,"th"),r.Kb(69,"th"),r.Nb(),r.Nb(),r.Ob(70,"tbody"),r.Ob(71,"tr"),r.Ob(72,"td",9),r.wc(73,Q,1,1,"img",10),r.Ob(74,"input",11,12),r.Vb("change",(function(e){return r.oc(t),r.Zb().displayNewUserPreview(e.target.files[0])})),r.Nb(),r.wc(76,X,2,0,"button",13),r.Kb(77,"br"),r.Kb(78,"img",14),r.Nb(),r.Ob(79,"td"),r.Ob(80,"input",15),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().userToAdd.userId=e})),r.Nb(),r.Nb(),r.Ob(81,"td"),r.Ob(82,"input",15),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().userToAdd.firstName=e})),r.Nb(),r.Nb(),r.Ob(83,"td"),r.Ob(84,"input",15),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().userToAdd.lastName=e})),r.Nb(),r.Nb(),r.Ob(85,"td"),r.Ob(86,"input",15),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().userToAdd.gender=e})),r.Nb(),r.Nb(),r.Ob(87,"td"),r.Ob(88,"input",16),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().userToAdd.birthDate=e})),r.Nb(),r.Nb(),r.Ob(89,"td"),r.Ob(90,"input",17),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().userToAdd.email=e})),r.Nb(),r.Nb(),r.Ob(91,"td"),r.Ob(92,"input",15),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().userToAdd.username=e})),r.Nb(),r.Nb(),r.Ob(93,"td"),r.Ob(94,"input",15),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().userToAdd.password=e})),r.Nb(),r.Nb(),r.Ob(95,"td"),r.Ob(96,"input",15),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().userToAdd.role=e})),r.Nb(),r.Nb(),r.Ob(97,"td"),r.Ob(98,"button",18),r.Vb("click",(function(){r.oc(t);const e=r.Zb(),n=r.lc(10),c=r.lc(12);return e.addUser(n,c)})),r.yc(99,"ADD USER"),r.Nb(),r.Nb(),r.Ob(100,"td"),r.Ob(101,"button",8),r.Vb("click",(function(){return r.oc(t),r.Zb().clear()})),r.yc(102,"CLEAR"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Kb(103,"br"),r.Nb()}if(2&t){const t=r.Zb();r.zb(27),r.fc("ngForOf",t.users),r.zb(46),r.fc("ngIf",t.userToAdd.image),r.zb(3),r.fc("ngIf",!t.userToAdd.image),r.zb(2),r.fc("src",t.userToAdd.imageFileName,r.pc),r.zb(2),r.fc("ngModel",t.userToAdd.userId),r.zb(2),r.fc("ngModel",t.userToAdd.firstName),r.zb(2),r.fc("ngModel",t.userToAdd.lastName),r.zb(2),r.fc("ngModel",t.userToAdd.gender),r.zb(2),r.fc("ngModel",t.userToAdd.birthDate),r.zb(2),r.fc("ngModel",t.userToAdd.email),r.zb(2),r.fc("ngModel",t.userToAdd.username),r.zb(2),r.fc("ngModel",t.userToAdd.password),r.zb(2),r.fc("ngModel",t.userToAdd.role)}}function tt(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",28),r.Ob(1,"i",29),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(2,"close"),r.Nb(),r.Ob(3,"h4"),r.yc(4,"Process ended successfuly!"),r.Nb(),r.Ob(5,"div"),r.Ob(6,"button",18),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(7,"OK"),r.Nb(),r.Nb(),r.Nb()}}function et(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",28),r.Ob(1,"i",29),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(2,"close"),r.Nb(),r.Ob(3,"h4"),r.yc(4,"Sorry, but some error occured."),r.Nb(),r.Ob(5,"div"),r.Ob(6,"button",18),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(7,"OK"),r.Nb(),r.Nb(),r.Nb()}}let nt=(()=>{class t{constructor(t,e){this.usersService=t,this.dialog=e,this.users=i.a.getState().users,this.userToAdd=new J.a,this.tempUsersImages=new Array}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){if(this.unsubscribe=i.a.subscribe(()=>this.users=i.a.getState().users),0===i.a.getState().users.length&&(yield this.usersService.getAllUsers()))for(let t of this.users)this.tempUsersImages.push(t.imageFileName)}))}displayPreview(t,e){this.users[e].image=t;const n=new FileReader;n.onload=t=>this.tempUsersImages[e]=t.target.result.toString(),n.readAsDataURL(t)}displayNewUserPreview(t){this.userToAdd.image=t;const e=new FileReader;e.onload=t=>this.preview=t.target.result.toString(),e.readAsDataURL(t)}changeForbidden(){alert("User ID can not be edited!")}addUser(t,e){return Object(o.a)(this,void 0,void 0,(function*(){const n=yield this.usersService.addUser(this.userToAdd);this.openDialog(n?t:e)}))}updateUser(t,e,n){return Object(o.a)(this,void 0,void 0,(function*(){const c=yield this.usersService.updateUser(t);this.openDialog(c?e:n)}))}deleteUser(t){return Object(o.a)(this,void 0,void 0,(function*(){yield this.usersService.DeleteUser(t.userId)}))}clear(){this.userToAdd=new J.a}clearChanges(){return Object(o.a)(this,void 0,void 0,(function*(){if(yield this.usersService.getAllUsers())for(let t of this.users)this.tempUsersImages.push(t.imageFileName)}))}openDialog(t){this.localTemplateRef=this.dialog.open(t,{width:"fit-content",panelClass:"custom-dialog-container"})}onCloseDialog(){this.dialog.closeAll()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(G.a),r.Jb(C.a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-edit-users"]],decls:13,vars:1,consts:[[1,"users-container"],[1,"headline"],[4,"ngIf"],["succeeded",""],["failed",""],[1,"table-container"],[1,"tr-head"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"],[2,"padding","10px"],["alt","",3,"src","click",4,"ngIf"],["type","file",1,"file-input",3,"change"],["imageBox",""],["class","btn btn-primary","type","button",3,"click",4,"ngIf"],[1,"car-imgae",3,"src"],["type","text",3,"ngModel","ngModelChange"],["type","date",3,"ngModel","ngModelChange"],["type","email",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"car-imgae",3,"src","click"],[3,"click"],["type","text",1,"exist-user-input",3,"ngModel","ngModelChange"],["type","date",1,"exist-user-input",3,"ngModel","ngModelChange"],["type","email",1,"exist-user-input",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],["alt","",3,"src","click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"box"],[1,"material-icons","icon-close",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"h1"),r.yc(3,"USERS"),r.Nb(),r.Ob(4,"h5"),r.yc(5,"Just click everywhere you want to edit"),r.Nb(),r.Nb(),r.Kb(6,"br"),r.Kb(7,"br"),r.wc(8,W,104,13,"div",2),r.Nb(),r.wc(9,tt,8,0,"ng-template",null,3,r.xc),r.wc(11,et,8,0,"ng-template",null,4,r.xc)),2&t&&(r.zb(8),r.fc("ngIf",e.users))},directives:[l.l,l.k,c.c,c.i,c.l],styles:[".headline[_ngcontent-%COMP%]{font-family:Alata;margin:40px auto;padding:10px;width:1000px;background-color:#c7bcba}table[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:#c7bcba}.tr-head[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:#0d0b0e;background-color:#c7bcba}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#374023}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#1c2920}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:6px}th[_ngcontent-%COMP%]{font-family:Alata}table[_ngcontent-%COMP%]{margin:auto}.branches-container[_ngcontent-%COMP%]{position:relative;text-align:center;align-items:center}input[_ngcontent-%COMP%]{width:70px;background-color:inherit;color:#c7bcba}input[_ngcontent-%COMP%]:focus{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.file-input[_ngcontent-%COMP%]{display:none}img[_ngcontent-%COMP%]{width:120px}.exist-user-input[_ngcontent-%COMP%]{border:none;background-color:inherit;color:#c7bcba}button[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();var ct=n("Pdnp"),ot=n("v+Ac");function it(t,e){1&t&&(r.Ob(0,"th"),r.yc(1,"Car Vehicle License Number"),r.Nb())}function rt(t,e){if(1&t&&(r.Ob(0,"td"),r.yc(1),r.Nb()),2&t){const t=r.Zb().$implicit;r.zb(1),r.zc(t.carId)}}function bt(t,e){if(1&t){const t=r.Pb();r.Ob(0,"tr"),r.wc(1,rt,2,1,"td",2),r.Ob(2,"td"),r.Ob(3,"input",11),r.Vb("change",(function(){r.oc(t);const n=e.index;return r.Zb(2).pickupDateChanged(n)}))("ngModelChange",(function(n){r.oc(t);const c=e.index;return r.Zb(2).pickupDateString[c]=n})),r.Nb(),r.Nb(),r.Ob(4,"td"),r.Ob(5,"input",11),r.Vb("change",(function(){r.oc(t);const n=e.index;return r.Zb(2).returnDateChanged(n)}))("ngModelChange",(function(n){r.oc(t);const c=e.index;return r.Zb(2).returnDateString[c]=n})),r.Nb(),r.Nb(),r.Ob(6,"td"),r.Ob(7,"input",11),r.Vb("change",(function(){r.oc(t);const n=e.index;return r.Zb(2).practicalReturnDateChanged(n)}))("ngModelChange",(function(n){r.oc(t);const c=e.index;return r.Zb(2).practicalReturnDateString[c]=n})),r.Nb(),r.Nb(),r.Ob(8,"td"),r.Ob(9,"input",12),r.Vb("ngModelChange",(function(n){return r.oc(t),e.$implicit.finalPayment=n})),r.Nb(),r.Nb(),r.Ob(10,"td",15),r.Vb("click",(function(){return r.oc(t),r.Zb(2).userChanging()})),r.yc(11),r.Nb(),r.Ob(12,"td"),r.Ob(13,"button",13),r.Vb("click",(function(){r.oc(t);const n=e.$implicit,c=r.Zb(2),o=r.lc(10),i=r.lc(8);return c.updateRent(n,o,i)})),r.yc(14,"UPDATE"),r.Nb(),r.Nb(),r.Ob(15,"td"),r.Ob(16,"button",14),r.Vb("click",(function(){r.oc(t);const n=e.$implicit,c=r.Zb(2),o=r.lc(14),i=r.lc(8);return c.deleteRent(n,o,i)})),r.yc(17,"DELETE"),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit,n=e.index,c=r.Zb(2);r.zb(1),r.fc("ngIf",!c.isOnlyOneCar),r.zb(2),r.fc("ngModel",c.pickupDateString[n]),r.zb(2),r.fc("ngModel",c.returnDateString[n]),r.zb(2),r.fc("ngModel",c.practicalReturnDateString[n]),r.zb(2),r.fc("ngModel",t.finalPayment),r.zb(2),r.zc(t.clientFullName)}}function at(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div"),r.Ob(1,"table",7),r.Ob(2,"thead"),r.Ob(3,"tr",8),r.wc(4,it,2,0,"th",2),r.Ob(5,"th"),r.yc(6,"Book Pickup Date"),r.Nb(),r.Ob(7,"th"),r.yc(8,"Book Estimated Return Date"),r.Nb(),r.Ob(9,"th"),r.yc(10,"Book Actual Return Date"),r.Nb(),r.Ob(11,"th"),r.yc(12,"Final Payment"),r.Nb(),r.Ob(13,"th"),r.yc(14,"Client Name"),r.Nb(),r.Kb(15,"th"),r.Kb(16,"th"),r.Nb(),r.Nb(),r.Ob(17,"tbody"),r.wc(18,bt,18,6,"tr",9),r.Nb(),r.Nb(),r.Kb(19,"br"),r.Ob(20,"h4",1),r.yc(21,"Add New Rent"),r.Nb(),r.Ob(22,"table",7),r.Ob(23,"thead"),r.Ob(24,"tr",8),r.Ob(25,"th"),r.yc(26,"Car Vehicle License Number"),r.Nb(),r.Ob(27,"th"),r.yc(28,"Book Pickup Date"),r.Nb(),r.Ob(29,"th"),r.yc(30,"Book Estimated Return Date"),r.Nb(),r.Ob(31,"th"),r.yc(32,"Book Actual Return Date"),r.Nb(),r.Ob(33,"th"),r.yc(34,"Final Payment"),r.Nb(),r.Ob(35,"th"),r.yc(36,"Client ID"),r.Nb(),r.Kb(37,"th"),r.Kb(38,"th"),r.Nb(),r.Nb(),r.Ob(39,"tbody"),r.Ob(40,"tr"),r.Ob(41,"td"),r.Ob(42,"input",10),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().rentToAdd.carId=e})),r.Nb(),r.Nb(),r.Ob(43,"td"),r.Ob(44,"input",11),r.Vb("change",(function(){return r.oc(t),r.Zb().rentToAddPickupDateChanged()}))("ngModelChange",(function(e){return r.oc(t),r.Zb().rentToAddPickupDateString=e})),r.Nb(),r.Nb(),r.Ob(45,"td"),r.Ob(46,"input",11),r.Vb("change",(function(){return r.oc(t),r.Zb().rentToAddReturnDateChanged()}))("ngModelChange",(function(e){return r.oc(t),r.Zb().rentToAddReturnDateString=e})),r.Nb(),r.Nb(),r.Ob(47,"td"),r.Ob(48,"input",11),r.Vb("change",(function(){return r.oc(t),r.Zb().rentToAddPracticalReturnDateChanged()}))("ngModelChange",(function(e){return r.oc(t),r.Zb().rentToAddPracticalReturnDateString=e})),r.Nb(),r.Nb(),r.Ob(49,"td"),r.Ob(50,"input",12),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().rentToAdd.finalPayment=e})),r.Nb(),r.Nb(),r.Ob(51,"td"),r.Ob(52,"input",10),r.Vb("ngModelChange",(function(e){return r.oc(t),r.Zb().rentToAdd.userId=e})),r.Nb(),r.Nb(),r.Ob(53,"td"),r.Ob(54,"button",13),r.Vb("click",(function(){r.oc(t);const e=r.Zb(),n=r.lc(12),c=r.lc(8);return e.addRent(n,c)})),r.yc(55,"UPDATE"),r.Nb(),r.Nb(),r.Ob(56,"td"),r.Ob(57,"button",14),r.Vb("click",(function(){return r.oc(t),r.Zb().clearAddedRent()})),r.yc(58,"CLEAR"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=r.Zb();r.zb(4),r.fc("ngIf",!t.isOnlyOneCar),r.zb(14),r.fc("ngForOf",t.rents),r.zb(24),r.fc("ngModel",t.rentToAdd.carId),r.zb(2),r.fc("ngModel",t.rentToAddPickupDateString),r.zb(2),r.fc("ngModel",t.rentToAddReturnDateString),r.zb(2),r.fc("ngModel",t.rentToAddPracticalReturnDateString),r.zb(2),r.fc("ngModel",t.rentToAdd.finalPayment),r.zb(2),r.fc("ngModel",t.rentToAdd.userId)}}function dt(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",16),r.Ob(1,"i",17),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(2,"close"),r.Nb(),r.Ob(3,"h4"),r.yc(4,"Sorry, some error occured during the proccess. Please try again later."),r.Nb(),r.Ob(5,"div"),r.Ob(6,"button",13),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(7,"OK"),r.Nb(),r.Nb(),r.Nb()}}function st(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",16),r.Ob(1,"i",17),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(2,"close"),r.Nb(),r.Ob(3,"h4"),r.yc(4,"Rent updated successfuly by the system."),r.Nb(),r.Ob(5,"div"),r.Ob(6,"button",13),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(7,"OK"),r.Nb(),r.Nb(),r.Nb()}}function lt(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",16),r.Ob(1,"i",17),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(2,"close"),r.Nb(),r.Ob(3,"h4"),r.yc(4,"Rent added successfuly by the system."),r.Nb(),r.Ob(5,"div"),r.Ob(6,"button",13),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(7,"OK"),r.Nb(),r.Nb(),r.Nb()}}function ut(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",16),r.Ob(1,"i",17),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(2,"close"),r.Nb(),r.Ob(3,"h4"),r.yc(4,"Rent deleted successfuly by the system."),r.Nb(),r.Ob(5,"div"),r.Ob(6,"button",13),r.Vb("click",(function(){return r.oc(t),r.Zb().onCloseDialog()})),r.yc(7,"OK"),r.Nb(),r.Nb(),r.Nb()}}let gt=(()=>{class t{constructor(t,e,n,c){this.activatedRoute=t,this.rentsService=e,this.usersService=n,this.dialog=c,this.rents=i.a.getState().rentsByCarId,this.books=i.a.getState().books,this.users=i.a.getState().users,this.returnDateString=[],this.pickupDateString=[],this.practicalReturnDateString=[],this.rentToAdd=new ct.a}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){const t=this.activatedRoute.snapshot.params.carTypeId;void 0!==t?(this.isOnlyOneCar=!0,this.unsubscribe=i.a.subscribe(()=>this.rents=i.a.getState().rentsByCarId),0===i.a.getState().rentsByCarId.length&&(yield this.rentsService.getRentsByCarId(t),console.log(this.rents))):(this.isOnlyOneCar=!1,this.unsubscribe=i.a.subscribe(()=>this.rents=i.a.getState().rents),0===i.a.getState().rents.length&&(yield this.rentsService.getAllRents(),this.rents=i.a.getState().rents,console.log(this.rents))),this.unsubscribe=i.a.subscribe(()=>this.users=i.a.getState().users),0===i.a.getState().users.length&&(yield this.usersService.getAllUsers());for(let e=0;e<this.rents.length;e++)this.rents[e].clientFullName=this.users.find(t=>t.userId===this.rents[e].userId).firstName+" "+this.users.find(t=>t.userId===this.rents[e].userId).lastName,this.pickupDateString.push(new Date(this.rents[e].pickupDate).toISOString().slice(0,10)),this.returnDateString.push(new Date(this.rents[e].returnDate).toISOString().slice(0,10)),this.practicalReturnDateString.push(new Date(this.rents[e].practicalReturnDate).toISOString().slice(0,10));console.log(t)}))}userChanging(){alert('Users management is only in "users" section.')}pickupDateChanged(t){this.rents[t].pickupDate=new Date(this.pickupDateString[t])}returnDateChanged(t){this.rents[t].returnDate=new Date(this.returnDateString[t])}practicalReturnDateChanged(t){this.rents[t].practicalReturnDate=new Date(this.practicalReturnDateString[t])}updateRent(t,e,n){return Object(o.a)(this,void 0,void 0,(function*(){const c=yield this.rentsService.updateRent(t.rentId,t);this.openDialog(c?e:n)}))}deleteRent(t,e,n){return Object(o.a)(this,void 0,void 0,(function*(){const c=yield this.rentsService.deleteRent(t.rentId);this.openDialog(c?e:n)}))}openDialog(t){this.localDialogRef=this.dialog.open(t,{width:"fit-content",panelClass:"custom-dialog-container"})}rentToAddPickupDateChanged(){this.rentToAdd.pickupDate=new Date(this.rentToAddPickupDateString)}rentToAddReturnDateChanged(){this.rentToAdd.returnDate=new Date(this.rentToAddReturnDateString)}rentToAddPracticalReturnDateChanged(){this.rentToAdd.practicalReturnDate=new Date(this.rentToAddPracticalReturnDateString)}addRent(t,e){return Object(o.a)(this,void 0,void 0,(function*(){const n=this.rentsService.addRent(this.rentToAdd);this.openDialog(n?t:e)}))}clearAddedRent(){this.rentToAdd=new ct.a}onCloseDialog(){return Object(o.a)(this,void 0,void 0,(function*(){this.dialog.closeAll()}))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a.a),r.Jb(ot.a),r.Jb(G.a),r.Jb(C.a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-availabilities"]],decls:15,vars:1,consts:[[1,"books-container"],[1,"headline"],[4,"ngIf"],["error",""],["updated",""],["added",""],["deleted",""],[1,"table-container"],[1,"tr-head"],[4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange"],["type","date",3,"ngModel","change","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[3,"click"],[1,"box"],[1,"material-icons","icon-close",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"h1"),r.yc(3,"RESARVATIONS"),r.Nb(),r.Nb(),r.Kb(4,"br"),r.Kb(5,"br"),r.wc(6,at,59,8,"div",2),r.Nb(),r.wc(7,dt,8,0,"ng-template",null,3,r.xc),r.wc(9,st,8,0,"ng-template",null,4,r.xc),r.wc(11,lt,8,0,"ng-template",null,5,r.xc),r.wc(13,ut,8,0,"ng-template",null,6,r.xc)),2&t&&(r.zb(6),r.fc("ngIf",e.rents))},directives:[l.l,l.k,c.c,c.i,c.l,c.n],styles:[".headline[_ngcontent-%COMP%]{font-family:Alata;margin:40px auto;padding:10px;width:1000px;background-color:#c7bcba}input[_ngcontent-%COMP%]{background-color:inherit;color:#c7bcba;width:120px}input[_ngcontent-%COMP%]:focus{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}table[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:#c7bcba}.tr-head[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:#0d0b0e;background-color:#c7bcba}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#374023}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#1c2920}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:6px}th[_ngcontent-%COMP%]{font-family:Alata}table[_ngcontent-%COMP%]{width:80%;margin:auto}button[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),ht=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[l.b]]}),t})();const pt=[{path:"dashboard",component:s,children:[{path:"edit-home",component:d},{path:"edit-branches",component:H},{path:"car-types",component:_},{path:"edit-availabilities/:carTypeId",component:gt},{path:"edit-availabilities",component:gt},{path:"edit-users",component:nt}]}];let Ot=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[l.b,c.e,a.e.forChild(pt),K.a.forRoot({apiKey:"AIzaSyBipKMPPpcUPALUdBAmZ25cKLSj2BBoZA8"}),B.a,ht]]}),t})()}}]);