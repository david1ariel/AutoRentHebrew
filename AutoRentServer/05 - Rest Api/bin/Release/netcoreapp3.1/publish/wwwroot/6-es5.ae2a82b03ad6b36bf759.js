function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"5OiB":function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",(function(){return Te}));var r,c,a,i,o=n("3Pt+"),b=n("mrSG"),d=n("vBqF"),u=n("fXoL"),s=n("nr5L"),l=n("tyNb"),g=((c=function(){function e(t,n){_classCallCheck(this,e),this.homeService=t,this.router=n,this.home=d.a.getState().home}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.unsubscribe=d.a.subscribe((function(){return t.home=d.a.getState().home})),e.t0=d.a.getState().home,e.t0){e.next=6;break}return e.next=6,this.homeService.getHomeData();case 6:this.preview=this.home.backgroundImageFileName,e.next=12;break;case 9:e.prev=9,e.t1=e.catch(0),console.log(e.t1.message);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})))}},{key:"UpdateHomeObject",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.homeService.UpdateHomeData(this.home);case 3:this.router.navigateByUrl("/home"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"displayPreview",value:function(e){var t=this;this.home.backgroundImage=e;var n=new FileReader;n.onload=function(e){return t.preview=e.target.result.toString()},n.readAsDataURL(e)}},{key:"ngOnDestroy",value:function(){this.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||c)(u.Jb(s.a),u.Jb(l.b))},c.\u0275cmp=u.Db({type:c,selectors:[["app-edit-home"]],decls:59,vars:8,consts:[[1,"home-container"],["alt","",1,"bgImg",3,"src"],[1,"uploadImage"],["for","backgroundFile",3,"click"],["type","file","accept","image/jpeg",3,"change"],["uploadImg",""],[1,"update-button"],["routerLink","/rent",1,"btn-rent",3,"click"],[1,"info-section"],[1,"contact-details"],["for","mailingAdress"],["type","text","name","mailingAdress","placeholder","Enter your mailing adress here",3,"ngModel","ngModelChange"],["for","phone"],["type","tel","name","phone","placeholder","Enter your phone for contact here",3,"ngModel","ngModelChange"],["for","fax"],["type","tel","name","fax","placeholder","Enter your fax for contact here",3,"ngModel","ngModelChange"],[1,"opening-hours"],["for","sundayToThursdayOpenHour"],["type","time","placeholder","Sunday to thursday opening hour",3,"ngModel","ngModelChange"],["type","time","placeholder","Sunday to thursday Closing hour",3,"ngModel","ngModelChange"],["type","time","placeholder","Friday opening hour",3,"ngModel","ngModelChange"],["type","time","placeholder","Friday closing hour",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e){var n=u.Pb();u.Ob(0,"div",0),u.Kb(1,"img",1),u.Ob(2,"div",2),u.Ob(3,"label",3),u.Vb("click",(function(){return u.mc(n),u.lc(9).click()})),u.wc(4,"CLICK TO CHOOSE BACKGROUND IMAGE"),u.Nb(),u.Kb(5,"br"),u.Kb(6,"br"),u.Kb(7,"br"),u.Ob(8,"input",4,5),u.Vb("change",(function(e){return t.displayPreview(e.target.files[0])})),u.Nb(),u.Nb(),u.Ob(10,"div",6),u.Ob(11,"label",7),u.Vb("click",(function(){return t.UpdateHomeObject()})),u.wc(12,"CLICK TO SAVE CHANGES"),u.Nb(),u.Nb(),u.Ob(13,"div",8),u.Ob(14,"div",9),u.Ob(15,"h2"),u.wc(16,"CONTACT DETAILS:"),u.Nb(),u.Ob(17,"label",10),u.wc(18,"Adress for mailing: "),u.Nb(),u.Kb(19,"br"),u.Ob(20,"input",11),u.Vb("ngModelChange",(function(e){return t.home.mailingAdress=e})),u.Nb(),u.Kb(21,"br"),u.Kb(22,"br"),u.Ob(23,"label",12),u.wc(24,"Phone number: "),u.Nb(),u.Ob(25,"input",13),u.Vb("ngModelChange",(function(e){return t.home.phone=e})),u.Nb(),u.Ob(26,"span"),u.wc(27,"\xa0\xa0\xa0|\xa0\xa0\xa0"),u.Nb(),u.Ob(28,"label",14),u.wc(29,"fax number: "),u.Nb(),u.Ob(30,"input",15),u.Vb("ngModelChange",(function(e){return t.home.fax=e})),u.Nb(),u.Kb(31,"br"),u.Kb(32,"br"),u.Nb(),u.Ob(33,"div",16),u.Ob(34,"h2"),u.wc(35,"OPENING HOURS:"),u.Nb(),u.Ob(36,"label",17),u.wc(37,"Enter here your opening hours:"),u.Nb(),u.Kb(38,"br"),u.Kb(39,"br"),u.Ob(40,"table"),u.Ob(41,"tr"),u.Ob(42,"td"),u.Ob(43,"span"),u.wc(44,"Sunday to thursday: "),u.Nb(),u.Nb(),u.Ob(45,"td"),u.Ob(46,"input",18),u.Vb("ngModelChange",(function(e){return t.home.sundayToThursdayOpenHour=e})),u.Nb(),u.Ob(47,"span"),u.wc(48," - "),u.Nb(),u.Ob(49,"input",19),u.Vb("ngModelChange",(function(e){return t.home.sundayToThursdayCloseHour=e})),u.Nb(),u.Nb(),u.Nb(),u.Ob(50,"tr"),u.Ob(51,"td"),u.Ob(52,"span"),u.wc(53,"Friday: "),u.Nb(),u.Nb(),u.Ob(54,"td"),u.Ob(55,"input",20),u.Vb("ngModelChange",(function(e){return t.home.fridayOpenHour=e})),u.Nb(),u.Ob(56,"span"),u.wc(57," - "),u.Nb(),u.Ob(58,"input",21),u.Vb("ngModelChange",(function(e){return t.home.fridayCloseHour=e})),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb()}2&e&&(u.zb(1),u.gc("src",t.preview,u.nc),u.zb(19),u.fc("ngModel",t.home.mailingAdress),u.zb(5),u.fc("ngModel",t.home.phone),u.zb(5),u.fc("ngModel",t.home.fax),u.zb(16),u.fc("ngModel",t.home.sundayToThursdayOpenHour),u.zb(3),u.fc("ngModel",t.home.sundayToThursdayCloseHour),u.zb(6),u.fc("ngModel",t.home.fridayOpenHour),u.zb(3),u.fc("ngModel",t.home.fridayCloseHour))},directives:[l.c,o.c,o.i,o.l],styles:[".home-container[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:repeat(12,1fr);height:750px}.bgImg[_ngcontent-%COMP%]{grid-column:span 12;width:100%;position:absolute;z-index:-1}.uploadImage[_ngcontent-%COMP%]{grid-column:span 6;text-align:center;background-color:#0d0b0e;color:#c7bcba;margin:70px auto auto;width:500px;height:100px;font-size:x-large;font-family:Alata;padding-left:20px;padding-right:20px;cursor:pointer;line-height:100px}.label-img[_ngcontent-%COMP%]{margin:auto;cursor:pointer}input[type=file][_ngcontent-%COMP%]{display:none}input[type=tel][_ngcontent-%COMP%]{width:120px;margin-left:15px}input[type=text][_ngcontent-%COMP%]{width:420px;margin-left:15px}.update-button[_ngcontent-%COMP%]{grid-column:span 6;text-align:center;background-color:#0d0b0e;color:#c7bcba;margin:70px auto auto;width:500px;height:100px;font-size:x-large;font-family:Alata;padding-left:20px;padding-right:20px;cursor:pointer;line-height:100px}.info-section[_ngcontent-%COMP%]{position:absolute;grid-column:span 12;display:grid;grid-template-columns:repeat(12,1fr);bottom:0;width:100%;height:250px;background-color:rgba(199,188,186,.7)}.contact-details[_ngcontent-%COMP%], .opening-hours[_ngcontent-%COMP%]{margin:0 auto auto;width:70%;grid-column:span 6}.headline[_ngcontent-%COMP%]{font-family:Alata}"]}),c),h=((r=function(){function e(){_classCallCheck(this,e),this.user=d.a.getState().user}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.unsubscribe=d.a.subscribe((function(){return e.user=d.a.getState().user}))}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=u.Db({type:r,selectors:[["app-dashboard"]],decls:25,vars:0,consts:[[1,"dashboard-container"],[1,"headline"],[1,"nav-container"],["routerLink","/home"],["routerLink","/admin/dashboard/edit-home"],["routerLink","/admin/dashboard/edit-branches"],["routerLink","/admin/dashboard/car-types"],["routerLink","/admin/dashboard/edit-availabilities"],["routerLink","/admin/dashboard/edit-users"],[1,"outlet-container"]],template:function(e,t){1&e&&(u.Ob(0,"div",0),u.Ob(1,"div",1),u.Ob(2,"h1"),u.wc(3,"MANAGEMENT SECTION"),u.Nb(),u.Ob(4,"div",2),u.Ob(5,"li",3),u.Ob(6,"i"),u.wc(7,"Home"),u.Nb(),u.Nb(),u.Ob(8,"li",4),u.Ob(9,"i"),u.wc(10,"Edit Home"),u.Nb(),u.Nb(),u.Ob(11,"li",5),u.Ob(12,"i"),u.wc(13,"Branches"),u.Nb(),u.Nb(),u.Ob(14,"li",6),u.Ob(15,"i"),u.wc(16,"Cars & Car Types"),u.Nb(),u.Nb(),u.Ob(17,"li",7),u.Ob(18,"i"),u.wc(19,"Reservations"),u.Nb(),u.Nb(),u.Ob(20,"li",8),u.Ob(21,"i"),u.wc(22,"Users"),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Ob(23,"div",9),u.Kb(24,"router-outlet"),u.Nb(),u.Nb())},directives:[l.c,l.f],styles:[".dashboard-container[_ngcontent-%COMP%]{width:100%;position:relative;display:grid;grid-template-columns:repeat(12,1fr);text-align:center}.headline[_ngcontent-%COMP%]{font-family:Alata;color:#0d0b0e;cursor:pointer;width:100%;background-color:#c7bcba;grid-column:span 12;position:-webkit-sticky;position:sticky;top:0;z-index:3}h1[_ngcontent-%COMP%]{margin:37px}.nav-container[_ngcontent-%COMP%]{text-align:center;width:100%;background-color:#0d0b0e}i[_ngcontent-%COMP%]{font-family:Alata;color:#c7bcba;text-decoration:none;font-style:unset;font-size:18px;line-height:40px}i[_ngcontent-%COMP%]:hover{background-color:#c7bcba;color:#0d0b0e;transition:.5s}li[_ngcontent-%COMP%]{display:inline;color:#c7bcba;padding:4px;margin:20px}.manager-options-container[_ngcontent-%COMP%]{position:relative;text-align:center;align-items:center;grid-column:span 12;width:100%;margin:auto}.outlet-container[_ngcontent-%COMP%]{width:100%;grid-column:span 12;z-index:2}"]}),r),p=n("ofXK"),f=n("1YYS"),m=n("a5Mm"),O=n("R0Ic"),N=function e(t,n){_classCallCheck(this,e),this.cartType=t,this.car=n},v=n("Q9yQ"),y=n("ICFT"),C=((a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"windowRef",get:function(){return window}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275prov=u.Fb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),w=n("iY2L"),k=n("Lovl"),M=n("0IaG"),T=((i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return!0===e?"Yes":"No"}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275pipe=u.Ib({name:"yesNo",type:i,pure:!0}),i);function x(e,t){1&e&&(u.Ob(0,"tr",31),u.Ob(1,"th"),u.wc(2,"Vehicle License Number"),u.Nb(),u.Ob(3,"th"),u.wc(4,"KM"),u.Nb(),u.Ob(5,"th"),u.wc(6,"Fixed & Ready"),u.Nb(),u.Ob(7,"th"),u.wc(8,"Available Now"),u.Nb(),u.Ob(9,"th"),u.wc(10,"Branch"),u.Nb(),u.Kb(11,"th"),u.Kb(12,"th"),u.Kb(13,"th"),u.Nb())}function A(e,t){1&e&&(u.Ob(0,"tr",32),u.wc(1," There are no cars for this type for now"),u.Nb())}function P(e,t){if(1&e&&(u.Ob(0,"option"),u.wc(1),u.Nb()),2&e){var n=t.$implicit;u.Ab("value",n.name)("selected",n.name==n.name||null),u.zb(1),u.xc(n.name)}}var D=function(e){return{"background-color":e}};function _(e,t){if(1&e){var n=u.Pb();u.Ob(0,"tr",44),u.Ob(1,"td",45),u.Vb("click",(function(){return u.mc(n),u.Zb(4).unchanged()})),u.wc(2),u.Nb(),u.Ob(3,"td"),u.Ob(4,"input",26),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.km=e})),u.Nb(),u.Nb(),u.Ob(5,"td"),u.Ob(6,"select",46),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.isFixed=e})),u.Ob(7,"option",47),u.wc(8,"Yes"),u.Nb(),u.Ob(9,"option",47),u.wc(10,"No"),u.Nb(),u.Nb(),u.Nb(),u.Ob(11,"td"),u.wc(12),u.ac(13,"yesNo"),u.Nb(),u.Ob(14,"td"),u.Ob(15,"select",48),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.branch=e})),u.uc(16,P,2,3,"option",7),u.Nb(),u.Nb(),u.Ob(17,"td"),u.Ob(18,"button",49),u.Vb("click",(function(){u.mc(n);var e=t.$implicit;return u.Zb(4).initBooksModel(e)})),u.wc(19,"BOOKS"),u.Nb(),u.Nb(),u.Ob(20,"td"),u.Ob(21,"button",21),u.Vb("click",(function(){u.mc(n);var e=t.$implicit,r=u.Zb(4),c=u.lc(2),a=u.lc(4);return r.UpdateCar(e,c,a)})),u.wc(22,"UPDATE"),u.Nb(),u.Nb(),u.Ob(23,"td"),u.Ob(24,"button",22),u.Vb("click",(function(){u.mc(n);var e=t.$implicit;return u.Zb(4).cancelCarEdit(e)})),u.wc(25,"CANCEL"),u.Nb(),u.Nb(),u.Nb()}if(2&e){var r=t.$implicit,c=t.index,a=u.Zb(4);u.fc("ngStyle",u.jc(12,D,c%2==0?"rgb(65, 80, 99)":"rgb(35, 44, 54)")),u.zb(2),u.yc(" ",r.carId," "),u.zb(2),u.fc("ngModel",r.km),u.zb(2),u.fc("ngModel",r.isFixed),u.zb(1),u.fc("ngValue",!0),u.zb(2),u.fc("ngValue",!1),u.zb(3),u.xc(u.bc(13,10,r.isAvailable)),u.zb(3),u.fc("ngModel",r.branch),u.zb(1),u.fc("ngForOf",a.branches),u.zb(2),u.hc("routerLink","/admin/dashboard/edit-availabilities/",r.carId,"")}}function R(e,t){if(1&e&&(u.Ob(0,"option"),u.wc(1),u.Nb()),2&e){var n=t.$implicit;u.Ab("value",n.name),u.zb(1),u.xc(n.name)}}function S(e,t){if(1&e){var n=u.Pb();u.Mb(0,33),u.uc(1,_,26,14,"tr",34),u.Ob(2,"tr",35),u.wc(3,"Add New Car:"),u.Nb(),u.Ob(4,"table"),u.Ob(5,"thead"),u.Ob(6,"tr",36),u.Ob(7,"th"),u.wc(8,"Vehicle License Number*"),u.Nb(),u.Ob(9,"th"),u.wc(10,"KM*"),u.Nb(),u.Ob(11,"th"),u.wc(12,"Fixed & Ready*"),u.Nb(),u.Ob(13,"th"),u.wc(14,"Branch*"),u.Nb(),u.Kb(15,"th"),u.Kb(16,"th"),u.Nb(),u.Nb(),u.Ob(17,"tbody"),u.Ob(18,"tr",37),u.Ob(19,"td"),u.Ob(20,"input",38),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb(3).carToAdd.carId=e})),u.Nb(),u.Nb(),u.Ob(21,"td"),u.Ob(22,"input",39),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb(3).carToAdd.km=e})),u.Nb(),u.Nb(),u.Ob(23,"td"),u.Ob(24,"select",40),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb(3).carToAdd.isFixed=e})),u.Ob(25,"option",41),u.wc(26,"Yes"),u.Nb(),u.Ob(27,"option",42),u.wc(28,"No"),u.Nb(),u.Nb(),u.Nb(),u.Ob(29,"td"),u.Ob(30,"select",43),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb(3).carToAdd.branch=e})),u.uc(31,R,2,2,"option",7),u.Nb(),u.Nb(),u.Ob(32,"td"),u.Ob(33,"button",21),u.Vb("click",(function(){u.mc(n);var e=u.Zb().$implicit,t=u.Zb(2),r=u.lc(2),c=u.lc(4);return t.addNewCar(e,r,c)})),u.wc(34,"ADD"),u.Nb(),u.Nb(),u.Ob(35,"td"),u.Ob(36,"button",22),u.Vb("click",(function(){return u.mc(n),u.Zb(3).clearCarEdit()})),u.wc(37,"CLEAR"),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Lb()}if(2&e){var r=u.Zb(3);u.zb(1),u.fc("ngForOf",r.cars),u.zb(19),u.fc("ngModel",r.carToAdd.carId),u.zb(2),u.fc("ngModel",r.carToAdd.km),u.zb(2),u.fc("ngModel",r.carToAdd.isFixed),u.zb(6),u.fc("ngModel",r.carToAdd.branch),u.zb(1),u.fc("ngForOf",r.branches)}}function I(e,t){if(1&e){var n=u.Pb();u.Ob(0,"tbody"),u.Ob(1,"tr",23),u.Ob(2,"td"),u.Ob(3,"input",11,12),u.Vb("change",(function(e){u.mc(n);var r=t.index;return u.Zb(2).displayPreview(e.target.files[0],r)})),u.Nb(),u.Ob(5,"img",24),u.Vb("click",(function(){return u.mc(n),u.lc(4).click()})),u.Nb(),u.Nb(),u.Ob(6,"td"),u.Ob(7,"input",25),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.manufacturer=e})),u.Nb(),u.Nb(),u.Ob(8,"td"),u.Ob(9,"input",25),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.model=e})),u.Nb(),u.Nb(),u.Ob(10,"td"),u.Ob(11,"input",17),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.year=e})),u.Nb(),u.Nb(),u.Ob(12,"td"),u.Ob(13,"input",25),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.gear=e})),u.Nb(),u.Nb(),u.Ob(14,"td"),u.Ob(15,"input",26),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.pricePerDay=e})),u.Nb(),u.Nb(),u.Ob(16,"td"),u.Ob(17,"input",26),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.pricePerDayLate=e})),u.Nb(),u.Nb(),u.Ob(18,"td"),u.Ob(19,"button",21),u.Vb("click",(function(){u.mc(n);var e=t.index,r=u.Zb(2),c=u.lc(2),a=u.lc(4);return r.UpdateCarType(e,c,a)})),u.wc(20,"UPDATE"),u.Nb(),u.Nb(),u.Ob(21,"td"),u.Ob(22,"button",22),u.Vb("click",(function(){u.mc(n);var e=t.index;return u.Zb(2).cancelCarTypeEdit(e)})),u.wc(23,"CANCEL"),u.Nb(),u.Nb(),u.Nb(),u.Ob(24,"tr",27),u.Vb("click",(function(){u.mc(n);var e=t.index;return u.Zb(2).openCarsTable(e)})),u.wc(25," MANAGE CARS OF THIS TYPE "),u.Nb(),u.uc(26,x,14,0,"tr",28),u.uc(27,A,2,0,"tr",29),u.uc(28,S,38,6,"ng-container",30),u.Nb()}if(2&e){var r=t.$implicit,c=t.index,a=u.Zb(2);u.zb(5),u.fc("src",a.tempCarTypesImages[c],u.nc),u.zb(2),u.fc("ngModel",r.manufacturer),u.zb(2),u.fc("ngModel",r.model),u.zb(2),u.gc("value",r.year),u.fc("ngModel",r.year),u.zb(2),u.fc("ngModel",r.gear),u.zb(2),u.fc("ngModel",r.pricePerDay),u.zb(2),u.fc("ngModel",r.pricePerDayLate),u.zb(9),u.fc("ngIf",a.opened&&a.index===c&&a.cars.length>0),u.zb(1),u.fc("ngIf",a.opened&&a.index===c&&0===a.cars.length),u.zb(1),u.fc("ngIf",a.index===c&&a.cars&&a.opened)}}function V(e,t){if(1&e){var n=u.Pb();u.Ob(0,"img",50),u.Vb("click",(function(){return u.mc(n),u.Zb(),u.lc(53).click()})),u.Nb()}if(2&e){var r=u.Zb(2);u.fc("src",r.preview,u.nc)}}function Z(e,t){if(1&e){var n=u.Pb();u.Ob(0,"button",51),u.Vb("click",(function(){return u.mc(n),u.Zb(),u.lc(53).click()})),u.wc(1,"Upload Image..."),u.Nb()}}function z(e,t){if(1&e){var n=u.Pb();u.Ob(0,"div",3),u.Ob(1,"div",4),u.Ob(2,"h2"),u.wc(3,"CARS FLEET"),u.Nb(),u.Ob(4,"h4"),u.wc(5,"(CLICK ANY PROPERTY TO EDIT)"),u.Nb(),u.Nb(),u.Ob(6,"div",5),u.Ob(7,"table"),u.Ob(8,"thead"),u.Ob(9,"tr",6),u.Ob(10,"th"),u.wc(11,"Image"),u.Nb(),u.Ob(12,"th"),u.wc(13,"Manufacturer"),u.Nb(),u.Ob(14,"th"),u.wc(15,"Model"),u.Nb(),u.Ob(16,"th"),u.wc(17,"Year"),u.Nb(),u.Ob(18,"th"),u.wc(19,"Gear Type"),u.Nb(),u.Ob(20,"th"),u.wc(21,"Price Per Day"),u.Nb(),u.Ob(22,"th"),u.wc(23,"Price Per Day Late"),u.Nb(),u.Kb(24,"th"),u.Kb(25,"th"),u.Nb(),u.Nb(),u.uc(26,I,29,11,"tbody",7),u.Nb(),u.Ob(27,"h5",4),u.wc(28,"Add New Car Type:"),u.Nb(),u.Ob(29,"table"),u.Ob(30,"thead"),u.Ob(31,"tr",6),u.Ob(32,"th"),u.wc(33,"Image*"),u.Nb(),u.Ob(34,"th"),u.wc(35,"Manufacturer*"),u.Nb(),u.Ob(36,"th"),u.wc(37,"Model*"),u.Nb(),u.Ob(38,"th"),u.wc(39,"Year*"),u.Nb(),u.Ob(40,"th"),u.wc(41,"Gear Type*"),u.Nb(),u.Ob(42,"th"),u.wc(43,"Price Per Day*"),u.Nb(),u.Ob(44,"th"),u.wc(45,"Price Per Day Late*"),u.Nb(),u.Kb(46,"th"),u.Kb(47,"th"),u.Nb(),u.Nb(),u.Ob(48,"tbody"),u.Ob(49,"tr",8),u.Ob(50,"td",9),u.uc(51,V,1,1,"img",10),u.Ob(52,"input",11,12),u.Vb("change",(function(e){return u.mc(n),u.Zb().displayNewCarPreview(e.target.files[0])})),u.Nb(),u.uc(54,Z,2,0,"button",13),u.Kb(55,"br"),u.Kb(56,"img",14),u.Nb(),u.Ob(57,"td"),u.Ob(58,"input",15),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().carTypeToAdd.manufacturer=e})),u.Nb(),u.Nb(),u.Ob(59,"td"),u.Ob(60,"input",16),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().carTypeToAdd.model=e})),u.Nb(),u.Nb(),u.Ob(61,"td"),u.Ob(62,"input",17),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().carTypeToAdd.year=e})),u.Nb(),u.Nb(),u.Ob(63,"td"),u.Ob(64,"input",18),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().carTypeToAdd.gear=e})),u.Nb(),u.Nb(),u.Ob(65,"td"),u.Ob(66,"input",19),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().carTypeToAdd.pricePerDay=e})),u.Nb(),u.Nb(),u.Ob(67,"td"),u.Ob(68,"input",20),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().carTypeToAdd.pricePerDayLate=e})),u.Nb(),u.Nb(),u.Ob(69,"td"),u.Ob(70,"button",21),u.Vb("click",(function(){u.mc(n);var e=u.Zb(),t=u.lc(2),r=u.lc(4);return e.addNewCarType(t,r)})),u.wc(71,"ADD"),u.Nb(),u.Nb(),u.Ob(72,"td"),u.Ob(73,"button",22),u.Vb("click",(function(){return u.mc(n),u.Zb().clearCarTypeEdit()})),u.wc(74,"CLEAR"),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb()}if(2&e){var r=u.Zb();u.zb(26),u.fc("ngForOf",r.carTypes),u.zb(25),u.fc("ngIf",r.carTypeToAdd.image),u.zb(3),u.fc("ngIf",!r.carTypeToAdd.image),u.zb(2),u.fc("src",r.carTypeToAdd.imageFileName,u.nc),u.zb(2),u.fc("ngModel",r.carTypeToAdd.manufacturer),u.zb(2),u.fc("ngModel",r.carTypeToAdd.model),u.zb(2),u.gc("value",r.carTypeToAdd.year),u.fc("ngModel",r.carTypeToAdd.year),u.zb(2),u.fc("ngModel",r.carTypeToAdd.gear),u.zb(2),u.fc("ngModel",r.carTypeToAdd.pricePerDay),u.zb(2),u.fc("ngModel",r.carTypeToAdd.pricePerDayLate)}}function K(e,t){if(1&e){var n=u.Pb();u.Ob(0,"div",52),u.Ob(1,"i",53),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(2,"close"),u.Nb(),u.Ob(3,"h4"),u.wc(4,"Process ended successfuly!"),u.Nb(),u.Ob(5,"div"),u.Ob(6,"button",21),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(7,"OK"),u.Nb(),u.Nb(),u.Nb()}}function L(e,t){if(1&e){var n=u.Pb();u.Ob(0,"div",52),u.Ob(1,"i",53),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(2,"close"),u.Nb(),u.Ob(3,"h4"),u.wc(4,"Sorry, but some error occured."),u.Nb(),u.Ob(5,"div"),u.Ob(6,"button",21),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(7,"OK"),u.Nb(),u.Nb(),u.Nb()}}var E,B=((E=function(){function e(t,n,r,c,a,i){_classCallCheck(this,e),this.carTypesService=t,this.router=n,this.windowService=r,this.carsService=c,this.branchesService=a,this.dialog=i,this.carTypes=d.a.getState().carTypes,this.cars=[],this.branches=d.a.getState().branches,this.tempCarTypesImages=new Array,this.carTypeToAdd=new f.a,this.carToAdd=new m.a,this.index=0,this.opened=!1,this.indexedDB=this.windowService.windowRef.indexedDB,this.IDBTransaction=this.windowService.windowRef.IDBTransaction,this.dbVersion=1}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.unsubscribe=d.a.subscribe((function(){c.carTypes=d.a.getState().carTypes,c.branches=d.a.getState().branches})),e.t0=0===d.a.getState().carTypes.length,!e.t0){e.next=7;break}return e.next=6,this.carTypesService.getAllCarTypes();case 6:e.t0=e.sent;case 7:if(!e.t0){e.next=11;break}this.carTypes=d.a.getState().carTypes,t=_createForOfIteratorHelper(this.carTypes);try{for(t.s();!(n=t.n()).done;)r=n.value,this.tempCarTypesImages.push(r.imageFileName)}catch(a){t.e(a)}finally{t.f()}case 11:if(e.t1=0===d.a.getState().branches.length,!e.t1){e.next=15;break}return e.next=15,this.branchesService.getAllBranches();case 15:this.index=-1,e.next=21;break;case 18:e.prev=18,e.t2=e.catch(0),console.log(e.t2.message);case 21:case"end":return e.stop()}}),e,this,[[0,18]])})))}},{key:"displayPreview",value:function(e,t){var n=this;this.carTypes[t].image=e;var r=new FileReader;r.onload=function(e){return n.tempCarTypesImages[t]=e.target.result.toString()},r.readAsDataURL(e)}},{key:"UpdateCarType",value:function(e,t,n){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log(this.carTypes[e]),r.next=4,this.carTypesService.UpdateCarType(this.carTypes[e]);case 4:this.carTypes=d.a.getState().carTypes,this.openDialog(t),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0.message),this.openDialog(n);case 11:case"end":return r.stop()}}),r,this,[[0,8]])})))}},{key:"UpdateCar",value:function(e,t,n){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,console.log(e),r.next=4,this.carsService.updateCar(e);case 4:this.carTypes=d.a.getState().carTypes,this.openDialog(t),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0.message),this.openDialog(n);case 11:case"end":return r.stop()}}),r,this,[[0,8]])})))}},{key:"cancelCarTypeEdit",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.carTypesService.getAllCarTypes();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"displayNewCarPreview",value:function(e){var t=this;this.carTypeToAdd.image=e;var n=new FileReader;n.onload=function(e){return t.preview=e.target.result.toString()},n.readAsDataURL(e)}},{key:"addNewCarType",value:function(e,t){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.carTypesService.AddNewCarType(this.carTypeToAdd);case 3:this.carTypes=d.a.getState().carTypes,this.openDialog(e),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0.message),this.openDialog(t);case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"addNewCar",value:function(e,t,n){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(""==this.carToAdd.carId||""==this.carToAdd.branch){r.next=17;break}return r.prev=1,this.carToAdd.carTypeId=e.carTypeId,r.next=5,this.carsService.AddCar(this.carToAdd);case 5:return r.next=7,this.carsService.getCarsByCarType(e.carTypeId);case 7:this.cars=d.a.getState().carsByCarType,this.openDialog(t),this.carToAdd=new m.a,r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),console.log(r.t0.message),this.openDialog(n);case 15:r.next=18;break;case 17:alert("All fields are required");case 18:case"end":return r.stop()}}),r,this,[[1,12]])})))}},{key:"clearCarTypeEdit",value:function(){this.carTypeToAdd=new f.a}},{key:"clearCarEdit",value:function(){this.carToAdd=new m.a}},{key:"unchanged",value:function(){alert("Car vehicle license number in unchangable. \nIf needed, delete and add as new.")}},{key:"cancelCarEdit",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.carsService.getCarsByCarType(e.carTypeId);case 2:this.cars=d.a.getState().carsByCarType;case 3:case"end":return t.stop()}}),t,this)})))}},{key:"initBooksModel",value:function(e){var t=new N;t.cartType=this.carTypes.find((function(t){return t.carTypeId==e.carTypeId})),t.car=e,d.a.dispatch({type:v.a.GetRentsByCarId,payload:t})}},{key:"openCarsTable",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.carTypes[e].carTypeId,t.next=3,this.carsService.getCarsByCarType(n);case 3:this.cars=d.a.getState().carsByCarType,-1===this.index&&(this.index=e),this.index===e&&!1===this.opened?this.opened=!0:this.index===e&&!0===this.opened?this.opened=!1:(this.index!==e&&!0===this.opened||this.index!==e&&!1===this.opened)&&(console.log(this.opened),this.index=e,this.opened=!0);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"openDialog",value:function(e){this.localTemplateRef=this.dialog.open(e,{width:"fit-content",panelClass:"custom-dialog-container"})}},{key:"onCloseDialog",value:function(){this.dialog.closeAll()}},{key:"ngOnDestroy",value:function(){this.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||E)(u.Jb(y.a),u.Jb(l.b),u.Jb(C),u.Jb(w.a),u.Jb(k.a),u.Jb(M.a))},E.\u0275cmp=u.Db({type:E,selectors:[["app-car-types"]],decls:5,vars:1,consts:[["class","cars-container",4,"ngIf"],["succeeded",""],["failed",""],[1,"cars-container"],[1,"headline"],[1,"cars-table"],[1,"tr-head"],[4,"ngFor","ngForOf"],[1,"tr-add",2,"background-color","rgb(55, 64, 35)"],[2,"padding","10px"],["alt","",3,"src","click",4,"ngIf"],["type","file",1,"file-input",3,"change"],["imageBox",""],["class","btn btn-primary","type","button",3,"click",4,"ngIf"],[1,"car-imgae",3,"src"],["type","text","placeholder","Manufacturer",3,"ngModel","ngModelChange"],["type","text","placeholder","model",3,"ngModel","ngModelChange"],["type","number","min","1900","max","2099","step","1",3,"value","ngModel","ngModelChange"],["type","text","placeholder","gear",3,"ngModel","ngModelChange"],["type","number","placeholder","price Per Day",3,"ngModel","ngModelChange"],["type","number","placeholder","price Per Day Late",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[2,"background-color","rgb(55, 64, 35)"],[1,"car-imgae",3,"src","click"],["type","text",1,"exist-car-input",3,"ngModel","ngModelChange"],["type","number",1,"exist-car-input",3,"ngModel","ngModelChange"],[1,"tr-manage",2,"background-color","rgb(28, 41, 32)",3,"click"],["style","background-color: rgb(199, 188, 186);margin: auto;",4,"ngIf"],["style","background-color: rgb(13, 11, 14);margin: auto;","class","no-cars",4,"ngIf"],["style","margin: auto;",4,"ngIf"],[2,"background-color","rgb(199, 188, 186)","margin","auto"],[1,"no-cars",2,"background-color","rgb(13, 11, 14)","margin","auto"],[2,"margin","auto"],["class","tr-add-car","style","margin: auto; height: 45px;",3,"ngStyle",4,"ngFor","ngForOf"],[1,"headline",2,"width","840px"],[1,"tr-head",2,"width","840px"],[1,"tr-add-car",2,"background-color","rgb(65, 80, 99)","margin","auto","width","840px"],["type","text",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],["name","isFixed",2,"background-color","inherit",3,"ngModel","ngModelChange"],["value","Yes"],["value","No"],["name","branches",2,"background-color","inherit",3,"ngModel","ngModelChange"],[1,"tr-add-car",2,"margin","auto","height","45px",3,"ngStyle"],[3,"click"],["name","isFixed","id","isFixed",1,"exist-car-input",3,"ngModel","ngModelChange"],[3,"ngValue"],["name","branches","id","branches",1,"exist-car-input",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"routerLink","click"],["alt","",3,"src","click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"box"],[1,"material-icons","icon-close",3,"click"]],template:function(e,t){1&e&&(u.uc(0,z,75,11,"div",0),u.uc(1,K,8,0,"ng-template",null,1,u.vc),u.uc(3,L,8,0,"ng-template",null,2,u.vc)),2&e&&u.fc("ngIf",t.carTypes)},directives:[p.l,p.k,o.c,o.i,o.l,o.n,o.q,o.m,o.s,p.m,l.c],pipes:[T],styles:['.cars-container[_ngcontent-%COMP%]{width:80%;margin:auto}table[_ngcontent-%COMP%]{width:1000px;margin:auto auto 40px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:none;padding:0;width:120px;max-width:120px;text-align:center}th[_ngcontent-%COMP%]{color:#0d0b0e}.tr-head[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{background-color:#c7bcba}.tr-head[_ngcontent-%COMP%]{margin:auto}.tr-add-car[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:60px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-align:center;width:100px;cursor:pointer;background-color:inherit}input[type=radio][_ngcontent-%COMP%]{display:inline}.exist-car-input[_ngcontent-%COMP%]{border:none;background-color:inherit;color:#c7bcba}.file-input[_ngcontent-%COMP%]{display:none}img[_ngcontent-%COMP%]{width:120px;cursor:pointer}.headline[_ngcontent-%COMP%]{font-family:Alata;margin:40px auto;padding:10px;color:#0d0b0e;width:1000px;background-color:#c7bcba}table[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{display:table}.tr-manage[_ngcontent-%COMP%]{width:1000px;display:table-row;cursor:pointer}.tr-manage[_ngcontent-%COMP%]:after, .tr-manage[_ngcontent-%COMP%]:before{content:" \\25BC"}.no-cars[_ngcontent-%COMP%]{width:100%;font-size:large}tr[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#c7bcba}tr[_ngcontent-%COMP%]   .tr-manage[_ngcontent-%COMP%]{background-color:#374023}tr[_ngcontent-%COMP%]   .tr-main[_ngcontent-%COMP%]{background-color:#1c2920}'],data:{animation:[Object(O.j)("fadeInOut",[Object(O.i)(":enter",[Object(O.h)({opacity:0}),Object(O.e)(500,Object(O.h)({opacity:1}))]),Object(O.i)(":leave",[Object(O.e)(500,Object(O.h)({opacity:0}))])])]}}),E),F=function e(t,n,r,c,a,i,o,b,d){_classCallCheck(this,e),this.branchId=t,this.locationId=n,this.name=r,this.latitude=c,this.longitude=a,this.country=i,this.city=o,this.adressLine=b,this.postalZipCode=d},U=n("pxUr"),j=n("tk/3"),$=n("7b+v");function H(e,t){if(1&e){var n=u.Pb();u.Ob(0,"tr"),u.Ob(1,"td"),u.Ob(2,"figure"),u.Ob(3,"input",11),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.city=e})),u.Nb(),u.Nb(),u.Nb(),u.Ob(4,"td"),u.Ob(5,"figure"),u.Ob(6,"input",11),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.name=e})),u.Nb(),u.Nb(),u.Nb(),u.Ob(7,"td"),u.Ob(8,"figure"),u.Ob(9,"input",11),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.adressLine=e})),u.Nb(),u.Nb(),u.Nb(),u.Ob(10,"td"),u.Ob(11,"figure"),u.Ob(12,"input",11),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.postalZipCode=e})),u.Nb(),u.Nb(),u.Nb(),u.Ob(13,"td"),u.Ob(14,"figure"),u.Ob(15,"button",7),u.Vb("click",(function(){u.mc(n);var e=t.$implicit;return u.Zb(2).updateBranch(e)})),u.wc(16,"Update"),u.Nb(),u.Nb(),u.Nb(),u.Ob(17,"td"),u.Ob(18,"figure"),u.Ob(19,"button",8),u.Vb("click",(function(){u.mc(n);var e=t.$implicit;return u.Zb(2).deleteBranch(e)})),u.wc(20,"Delete"),u.Nb(),u.Nb(),u.Nb(),u.Ob(21,"td"),u.Ob(22,"figure"),u.Ob(23,"button",8),u.Vb("click",(function(){u.mc(n);var e=t.$implicit;return u.Zb(2).reset(e)})),u.wc(24,"Clear"),u.Nb(),u.Nb(),u.Nb(),u.Nb()}if(2&e){var r=t.$implicit;u.zb(3),u.fc("ngModel",r.city),u.zb(3),u.fc("ngModel",r.name),u.zb(3),u.fc("ngModel",r.adressLine),u.zb(3),u.fc("ngModel",r.postalZipCode)}}function J(e,t){if(1&e){var n=u.Pb();u.Ob(0,"agm-marker-cluster"),u.Ob(1,"agm-marker",14),u.Vb("markerClick",(function(e){u.mc(n);var r=t.$implicit;return u.Zb(3).changeLocationOnMap(e,r)})),u.Nb(),u.Nb()}if(2&e){var r=t.$implicit;u.zb(1),u.fc("latitude",r.latitude)("longitude",r.longitude)}}function G(e,t){if(1&e&&u.Kb(0,"agm-marker",15),2&e){var n=u.Zb(3);u.fc("latitude",n.branchToAdd.latitude)("longitude",n.branchToAdd.longitude)}}function Y(e,t){if(1&e){var n=u.Pb();u.Ob(0,"agm-map",12),u.Vb("latitudeChange",(function(e){return u.mc(n),u.Zb(2).latitude=e}))("longitudeChange",(function(e){return u.mc(n),u.Zb(2).longitude=e}))("zoomChange",(function(e){return u.mc(n),u.Zb(2).mapZoom=e}))("mapClick",(function(e){return u.mc(n),u.Zb(2).markLocation(e)})),u.uc(1,J,2,2,"agm-marker-cluster",5),u.uc(2,G,1,2,"agm-marker",13),u.Nb()}if(2&e){var r=u.Zb(2);u.fc("latitude",r.latitude)("longitude",r.longitude)("zoom",r.mapZoom),u.zb(1),u.fc("ngForOf",r.branches),u.zb(1),u.fc("ngIf",r.branchToAddMarker)}}function q(e,t){if(1&e){var n=u.Pb();u.Ob(0,"div",3),u.Ob(1,"table"),u.Ob(2,"thead"),u.Ob(3,"tr",4),u.Ob(4,"th"),u.wc(5,"Branch Name"),u.Nb(),u.Ob(6,"th"),u.wc(7,"City"),u.Nb(),u.Ob(8,"th"),u.wc(9,"Adress Line"),u.Nb(),u.Ob(10,"th"),u.wc(11,"Postal Zip Code"),u.Nb(),u.Kb(12,"th"),u.Kb(13,"th"),u.Kb(14,"th"),u.Nb(),u.Nb(),u.Ob(15,"tbody"),u.uc(16,H,25,4,"tr",5),u.Nb(),u.Nb(),u.Kb(17,"br"),u.Ob(18,"h5",1),u.wc(19,"Add New Branch (You can simply click on the exact place inside the map):"),u.Nb(),u.Ob(20,"table"),u.Ob(21,"thead"),u.Ob(22,"tr",4),u.Ob(23,"th"),u.wc(24,"Branch Name*"),u.Nb(),u.Ob(25,"th"),u.wc(26,"City*"),u.Nb(),u.Ob(27,"th"),u.wc(28,"Adress Line*"),u.Nb(),u.Ob(29,"th"),u.wc(30,"Postal Zip Code"),u.Nb(),u.Kb(31,"th"),u.Kb(32,"th"),u.Nb(),u.Nb(),u.Ob(33,"tbody"),u.Ob(34,"tr"),u.Ob(35,"td"),u.Ob(36,"input",6),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().branchToAdd.name=e})),u.Nb(),u.Nb(),u.Ob(37,"td"),u.Ob(38,"input",6),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().branchToAdd.city=e})),u.Nb(),u.Nb(),u.Ob(39,"td"),u.Ob(40,"input",6),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().branchToAdd.adressLine=e})),u.Nb(),u.Nb(),u.Ob(41,"td"),u.Ob(42,"input",6),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().branchToAdd.postalZipCode=e})),u.Nb(),u.Nb(),u.Ob(43,"td"),u.Ob(44,"button",7),u.Vb("click",(function(){return u.mc(n),u.Zb().AddBranch()})),u.wc(45,"Add Branch"),u.Nb(),u.Nb(),u.Ob(46,"td"),u.Ob(47,"button",8),u.Vb("click",(function(){return u.mc(n),u.Zb().clear()})),u.wc(48,"Clear"),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Kb(49,"br"),u.Ob(50,"div",9),u.Ob(51,"span"),u.wc(52),u.Nb(),u.Ob(53,"span"),u.wc(54),u.Nb(),u.uc(55,Y,3,5,"agm-map",10),u.Nb(),u.Nb()}if(2&e){var r=u.Zb();u.zb(16),u.fc("ngForOf",r.branches),u.zb(20),u.fc("ngModel",r.branchToAdd.name),u.zb(2),u.fc("ngModel",r.branchToAdd.city),u.zb(2),u.fc("ngModel",r.branchToAdd.adressLine),u.zb(2),u.fc("ngModel",r.branchToAdd.postalZipCode),u.zb(10),u.xc(r.latitude),u.zb(2),u.xc(r.longitude),u.zb(1),u.fc("ngIf",r.branches&&r.branches[0])}}var Q,X=((Q=function(){function e(t,n,r){_classCallCheck(this,e),this.branchesService=t,this.mapsApiLoader=n,this.http=r,this.branches=d.a.getState().branches,this.branchToAdd=new F,this.latitude=31.775466074016084,this.longitude=35.22217360892053,this.mapZoom=8}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.unsubscribe=d.a.subscribe((function(){return t.branches=d.a.getState().branches})),e.t0=0===d.a.getState().branches.length,!e.t0){e.next=6;break}return e.next=6,this.branchesService.getAllBranches().then((function(){t.latitude=t.branches[0].latitude,t.longitude=t.branches[0].longitude,t.mapZoom=8}));case 6:this.mapsApiLoader.load().then((function(){t.geocoder=new google.maps.Geocoder,t.branchToAddMarker=new google.maps.Marker,t.geocodeRequest=new Object,t.location=new google.maps.LatLng(1,1)})),e.next=12;break;case 9:e.prev=9,e.t1=e.catch(0),console.log(e.t1.message);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})))}},{key:"changeLocationOnMap",value:function(e,t){this.latitude=t.latitude,this.longitude=t.longitude,this.mapZoom=15,console.dir(e.latitude)}},{key:"AddBranch",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""==this.branchToAdd.name&&alert("Branch Name Is Required!"),""==this.branchToAdd.city&&alert("Branch City Is Required!"),""==this.branchToAdd.adressLine&&alert("Branch Adress Line Is Required!"),e.prev=1,e.next=4,this.branchesService.AddBranch(this.branchToAdd);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0.message);case 9:case"end":return e.stop()}}),e,this,[[1,6]])})))}},{key:"updateBranch",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.branchesService.updateBranch(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0.message);case 8:case"end":return t.stop()}}),t,this,[[0,5]])})))}},{key:"deleteBranch",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.branchesService.deleteBranch(e.branchId);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0.message);case 8:case"end":return t.stop()}}),t,this,[[0,5]])})))}},{key:"markLocation",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.branchToAdd.latitude=e.coords.lat,this.branchToAdd.longitude=e.coords.lng,console.log(this.branchToAdd.latitude),console.log(this.branchToAdd.longitude),this.location.lat=function(){return n.branchToAdd.latitude},this.location.lng=function(){return n.branchToAdd.longitude},this.geocodeRequest.location=this.location,t.next=9,this.geocoder.geocode(this.geocodeRequest,(function(e,t){var r,c,a;if("OK"===t){console.log(e),n.branchToAddMarker.setPosition(e[0].geometry.location),n.branchToAdd.city=null===(r=e[0].address_components[2])||void 0===r?void 0:r.long_name,n.branchToAdd.adressLine=(null===(c=e[0].address_components[1])||void 0===c?void 0:c.long_name)+", "+(null===(a=e[0])||void 0===a?void 0:a.address_components[0].long_name);var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var b,d=i.value,u=_createForOfIteratorHelper(d.types);try{for(u.s();!(b=u.n()).done;)"country"===b.value&&(n.branchToAdd.country=d.formatted_address,console.log("country: "+n.branchToAdd.country))}catch(s){u.e(s)}finally{u.f()}}}catch(s){o.e(s)}finally{o.f()}}}));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"clear",value:function(){this.branchToAdd.adressLine="",this.branchToAdd.city="",this.branchToAdd.name="",this.branchToAdd.postalZipCode="",this.branchToAdd.country=""}},{key:"reset",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.branchesService.getAllBranches();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnDestroy",value:function(){this.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Q)(u.Jb(k.a),u.Jb(U.f),u.Jb(j.b))},Q.\u0275cmp=u.Db({type:Q,selectors:[["app-edit-branches"]],decls:7,vars:1,consts:[[1,"branches-container"],[1,"headline"],["class","table-container",4,"ngIf"],[1,"table-container"],[1,"tr-head"],[4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"map-container"],[3,"latitude","longitude","zoom","latitudeChange","longitudeChange","zoomChange","mapClick",4,"ngIf"],["type","text",1,"exist-branch",3,"ngModel","ngModelChange"],[3,"latitude","longitude","zoom","latitudeChange","longitudeChange","zoomChange","mapClick"],[3,"latitude","longitude",4,"ngIf"],[3,"latitude","longitude","markerClick"],[3,"latitude","longitude"]],template:function(e,t){1&e&&(u.Ob(0,"div",0),u.Ob(1,"div",1),u.Ob(2,"h1"),u.wc(3,"BRANCHES MANAGEMENT"),u.Nb(),u.Ob(4,"h4"),u.wc(5,"(CLICK ANY PROPERTY TO EDIT)"),u.Nb(),u.Nb(),u.uc(6,q,56,8,"div",2),u.Nb()),2&e&&(u.zb(6),u.fc("ngIf",t.branches))},directives:[p.l,p.k,o.c,o.i,o.l,U.b,$.b,U.c],styles:["agm-map[_ngcontent-%COMP%]{height:400px;width:75%;margin:auto auto auto 100px}.map-container[_ngcontent-%COMP%]{margin:auto auto 40px 25%}.branches-container[_ngcontent-%COMP%]{display:grid;width:80%;margin:auto;text-align:center;align-items:center}table[_ngcontent-%COMP%]{width:1000px;margin:auto auto 40px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:none;padding:0;width:120px;max-width:120px;height:40px}tr[_ngcontent-%COMP%]{height:60px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n) > *[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   input[_ngcontent-%COMP%]{background-color:#374023;color:#c7bcba}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd) > *[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd)   input[_ngcontent-%COMP%]{background-color:#1c2920;color:#c7bcba}.tr-head[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{background-color:#c7bcba;text-align:center}input[_ngcontent-%COMP%]{margin:auto;height:30px;width:100px;cursor:pointer}figure[_ngcontent-%COMP%]{text-align:center;margin-bottom:0}.table-container[_ngcontent-%COMP%]{width:100%;text-align:center;align-items:center}.exist-branch[_ngcontent-%COMP%]{border:1px #0d0b0e}.headline[_ngcontent-%COMP%]{font-family:Alata;margin:40px auto;padding:10px;width:1000px;background-color:#c7bcba}"]}),Q),W=n("Tj/N"),ee=n("6Qg2");function te(e,t){if(1&e){var n=u.Pb();u.Ob(0,"button",21),u.Vb("click",(function(){return u.mc(n),u.Zb(),u.lc(4).click()})),u.wc(1,"Upload Image"),u.Nb()}}function ne(e,t){if(1&e){var n=u.Pb();u.Ob(0,"tr"),u.Ob(1,"td"),u.uc(2,te,2,0,"button",19),u.Ob(3,"input",11,12),u.Vb("change",(function(e){u.mc(n);var r=t.index;return u.Zb(2).displayPreview(e.target.files[0],r)})),u.Nb(),u.Ob(5,"img",20),u.Vb("click",(function(){return u.mc(n),u.lc(4).click()})),u.Nb(),u.Nb(),u.Ob(6,"td"),u.wc(7),u.Nb(),u.Ob(8,"td"),u.Ob(9,"input",15),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.firstName=e})),u.Nb(),u.Nb(),u.Ob(10,"td"),u.Ob(11,"input",15),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.lastName=e})),u.Nb(),u.Nb(),u.Ob(12,"td"),u.Ob(13,"input",15),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.gender=e})),u.Nb(),u.Nb(),u.Ob(14,"td"),u.Ob(15,"input",16),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.birthDate=e})),u.Nb(),u.Nb(),u.Ob(16,"td"),u.Ob(17,"input",17),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.email=e})),u.Nb(),u.Nb(),u.Ob(18,"td"),u.Ob(19,"input",15),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.username=e})),u.Nb(),u.Nb(),u.Ob(20,"td"),u.Ob(21,"input",15),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.password=e})),u.Nb(),u.Nb(),u.Ob(22,"td"),u.Ob(23,"input",15),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.role=e})),u.Nb(),u.Nb(),u.Ob(24,"td"),u.Ob(25,"button",18),u.Vb("click",(function(){u.mc(n);var e=t.$implicit,r=u.Zb(2),c=u.lc(8),a=u.lc(10);return r.updateUser(e,c,a)})),u.wc(26,"UPDATE USER"),u.Nb(),u.Nb(),u.Ob(27,"td"),u.Ob(28,"button",8),u.Vb("click",(function(){u.mc(n);var e=t.$implicit;return u.Zb(2).deleteUser(e)})),u.wc(29,"DELETE"),u.Nb(),u.Nb(),u.Nb()}if(2&e){var r=t.$implicit,c=t.index,a=u.Zb(2);u.zb(2),u.fc("ngIf",!r.imageFileName&&!r.image),u.zb(3),u.fc("src",a.tempUsersImages[c],u.nc),u.zb(2),u.xc(r.userId),u.zb(2),u.fc("ngModel",r.firstName),u.zb(2),u.fc("ngModel",r.lastName),u.zb(2),u.fc("ngModel",r.gender),u.zb(2),u.fc("ngModel",r.birthDate),u.zb(2),u.fc("ngModel",r.email),u.zb(2),u.fc("ngModel",r.username),u.zb(2),u.fc("ngModel",r.password),u.zb(2),u.fc("ngModel",r.role)}}function re(e,t){if(1&e){var n=u.Pb();u.Ob(0,"img",22),u.Vb("click",(function(){return u.mc(n),u.Zb(),u.lc(75).click()})),u.Nb()}if(2&e){var r=u.Zb(2);u.fc("src",r.preview,u.nc)}}function ce(e,t){if(1&e){var n=u.Pb();u.Ob(0,"button",23),u.Vb("click",(function(){return u.mc(n),u.Zb(),u.lc(75).click()})),u.wc(1,"Upload Image..."),u.Nb()}}function ae(e,t){if(1&e){var n=u.Pb();u.Ob(0,"div"),u.Ob(1,"table",5),u.Ob(2,"thead"),u.Ob(3,"tr",6),u.Ob(4,"th"),u.wc(5,"Image"),u.Nb(),u.Ob(6,"th"),u.wc(7,"User ID"),u.Nb(),u.Ob(8,"th"),u.wc(9,"First Name"),u.Nb(),u.Ob(10,"th"),u.wc(11,"Last Name"),u.Nb(),u.Ob(12,"th"),u.wc(13,"Gender"),u.Nb(),u.Ob(14,"th"),u.wc(15,"Birth Date"),u.Nb(),u.Ob(16,"th"),u.wc(17,"Email"),u.Nb(),u.Ob(18,"th"),u.wc(19,"Username"),u.Nb(),u.Ob(20,"th"),u.wc(21,"Password"),u.Nb(),u.Ob(22,"th"),u.wc(23,"Role"),u.Nb(),u.Kb(24,"th"),u.Kb(25,"th"),u.Nb(),u.Nb(),u.Ob(26,"tbody"),u.uc(27,ne,30,11,"tr",7),u.Ob(28,"tr"),u.Kb(29,"td"),u.Kb(30,"td"),u.Kb(31,"td"),u.Kb(32,"td"),u.Kb(33,"td"),u.Ob(34,"td"),u.Ob(35,"button",8),u.Vb("click",(function(){return u.mc(n),u.Zb().clearChanges()})),u.wc(36,"CLEAR CHANGES"),u.Nb(),u.Nb(),u.Kb(37,"td"),u.Kb(38,"td"),u.Kb(39,"td"),u.Kb(40,"td"),u.Kb(41,"td"),u.Nb(),u.Nb(),u.Nb(),u.Kb(42,"br"),u.Ob(43,"h5",1),u.wc(44,"Add New User"),u.Nb(),u.Ob(45,"table"),u.Ob(46,"thead"),u.Ob(47,"tr",6),u.Ob(48,"th"),u.wc(49,"Image"),u.Nb(),u.Ob(50,"th"),u.wc(51,"User ID"),u.Nb(),u.Ob(52,"th"),u.wc(53,"First Name"),u.Nb(),u.Ob(54,"th"),u.wc(55,"Last Name"),u.Nb(),u.Ob(56,"th"),u.wc(57,"Gender"),u.Nb(),u.Ob(58,"th"),u.wc(59,"Birth Date"),u.Nb(),u.Ob(60,"th"),u.wc(61,"Email"),u.Nb(),u.Ob(62,"th"),u.wc(63,"Username"),u.Nb(),u.Ob(64,"th"),u.wc(65,"Password"),u.Nb(),u.Ob(66,"th"),u.wc(67,"Role"),u.Nb(),u.Kb(68,"th"),u.Kb(69,"th"),u.Nb(),u.Nb(),u.Ob(70,"tbody"),u.Ob(71,"tr"),u.Ob(72,"td",9),u.uc(73,re,1,1,"img",10),u.Ob(74,"input",11,12),u.Vb("change",(function(e){return u.mc(n),u.Zb().displayNewUserPreview(e.target.files[0])})),u.Nb(),u.uc(76,ce,2,0,"button",13),u.Kb(77,"br"),u.Kb(78,"img",14),u.Nb(),u.Ob(79,"td"),u.Ob(80,"input",15),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().userToAdd.userId=e})),u.Nb(),u.Nb(),u.Ob(81,"td"),u.Ob(82,"input",15),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().userToAdd.firstName=e})),u.Nb(),u.Nb(),u.Ob(83,"td"),u.Ob(84,"input",15),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().userToAdd.lastName=e})),u.Nb(),u.Nb(),u.Ob(85,"td"),u.Ob(86,"input",15),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().userToAdd.gender=e})),u.Nb(),u.Nb(),u.Ob(87,"td"),u.Ob(88,"input",16),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().userToAdd.birthDate=e})),u.Nb(),u.Nb(),u.Ob(89,"td"),u.Ob(90,"input",17),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().userToAdd.email=e})),u.Nb(),u.Nb(),u.Ob(91,"td"),u.Ob(92,"input",15),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().userToAdd.username=e})),u.Nb(),u.Nb(),u.Ob(93,"td"),u.Ob(94,"input",15),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().userToAdd.password=e})),u.Nb(),u.Nb(),u.Ob(95,"td"),u.Ob(96,"input",15),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().userToAdd.role=e})),u.Nb(),u.Nb(),u.Ob(97,"td"),u.Ob(98,"button",18),u.Vb("click",(function(){u.mc(n);var e=u.Zb(),t=u.lc(8),r=u.lc(10);return e.addUser(t,r)})),u.wc(99,"ADD USER"),u.Nb(),u.Nb(),u.Ob(100,"td"),u.Ob(101,"button",8),u.Vb("click",(function(){return u.mc(n),u.Zb().clear()})),u.wc(102,"CLEAR"),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Kb(103,"br"),u.Nb()}if(2&e){var r=u.Zb();u.zb(27),u.fc("ngForOf",r.users),u.zb(46),u.fc("ngIf",r.userToAdd.image),u.zb(3),u.fc("ngIf",!r.userToAdd.image),u.zb(2),u.fc("src",r.userToAdd.imageFileName,u.nc),u.zb(2),u.fc("ngModel",r.userToAdd.userId),u.zb(2),u.fc("ngModel",r.userToAdd.firstName),u.zb(2),u.fc("ngModel",r.userToAdd.lastName),u.zb(2),u.fc("ngModel",r.userToAdd.gender),u.zb(2),u.fc("ngModel",r.userToAdd.birthDate),u.zb(2),u.fc("ngModel",r.userToAdd.email),u.zb(2),u.fc("ngModel",r.userToAdd.username),u.zb(2),u.fc("ngModel",r.userToAdd.password),u.zb(2),u.fc("ngModel",r.userToAdd.role)}}function ie(e,t){if(1&e){var n=u.Pb();u.Ob(0,"div",24),u.Ob(1,"i",25),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(2,"close"),u.Nb(),u.Ob(3,"h4"),u.wc(4,"Process ended successfuly!"),u.Nb(),u.Ob(5,"div"),u.Ob(6,"button",18),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(7,"OK"),u.Nb(),u.Nb(),u.Nb()}}function oe(e,t){if(1&e){var n=u.Pb();u.Ob(0,"div",24),u.Ob(1,"i",25),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(2,"close"),u.Nb(),u.Ob(3,"h4"),u.wc(4,"Sorry, but some error occured."),u.Nb(),u.Ob(5,"div"),u.Ob(6,"button",18),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(7,"OK"),u.Nb(),u.Nb(),u.Nb()}}var be,de=((be=function(){function e(t,n){_classCallCheck(this,e),this.usersService=t,this.dialog=n,this.users=d.a.getState().users,this.userToAdd=new W.a,this.tempUsersImages=new Array}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.unsubscribe=d.a.subscribe((function(){return c.users=d.a.getState().users})),e.t0=0===d.a.getState().users.length,!e.t0){e.next=6;break}return e.next=5,this.usersService.getAllUsers();case 5:e.t0=e.sent;case 6:if(!e.t0){e.next=9;break}t=_createForOfIteratorHelper(this.users);try{for(t.s();!(n=t.n()).done;)r=n.value,this.tempUsersImages.push(r.imageFileName)}catch(a){t.e(a)}finally{t.f()}case 9:case"end":return e.stop()}}),e,this)})))}},{key:"displayPreview",value:function(e,t){var n=this;this.users[t].image=e;var r=new FileReader;r.onload=function(e){return n.tempUsersImages[t]=e.target.result.toString()},r.readAsDataURL(e)}},{key:"displayNewUserPreview",value:function(e){var t=this;this.userToAdd.image=e;var n=new FileReader;n.onload=function(e){return t.preview=e.target.result.toString()},n.readAsDataURL(e)}},{key:"addUser",value:function(e,t){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.usersService.addUser(this.userToAdd);case 2:r=n.sent,this.openDialog(r?e:t);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"updateUser",value:function(e,t,n){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.usersService.updateUser(e);case 2:c=r.sent,this.openDialog(c?t:n);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"deleteUser",value:function(e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.usersService.DeleteUser(e.userId);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"clear",value:function(){this.userToAdd=new W.a}},{key:"clearChanges",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.usersService.getAllUsers();case 2:if(!e.sent){e.next=5;break}t=_createForOfIteratorHelper(this.users);try{for(t.s();!(n=t.n()).done;)r=n.value,this.tempUsersImages.push(r.imageFileName)}catch(c){t.e(c)}finally{t.f()}case 5:case"end":return e.stop()}}),e,this)})))}},{key:"openDialog",value:function(e){this.localTemplateRef=this.dialog.open(e,{width:"fit-content",panelClass:"custom-dialog-container"})}},{key:"onCloseDialog",value:function(){this.dialog.closeAll()}}]),e}()).\u0275fac=function(e){return new(e||be)(u.Jb(ee.a),u.Jb(M.a))},be.\u0275cmp=u.Db({type:be,selectors:[["app-edit-users"]],decls:11,vars:1,consts:[[1,"users-container"],[1,"headline"],[4,"ngIf"],["succeeded",""],["failed",""],[1,"table-container"],[1,"tr-head"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"],[2,"padding","10px"],["alt","",3,"src","click",4,"ngIf"],["type","file",1,"file-input",3,"change"],["imageBox",""],["class","btn btn-primary","type","button",3,"click",4,"ngIf"],[1,"car-imgae",3,"src"],["type","text",3,"ngModel","ngModelChange"],["type","date",3,"ngModel","ngModelChange"],["type","email",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"car-imgae",3,"src","click"],[1,"btn","btn-primary",3,"click"],["alt","",3,"src","click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"box"],[1,"material-icons","icon-close",3,"click"]],template:function(e,t){1&e&&(u.Ob(0,"div",0),u.Ob(1,"div",1),u.Ob(2,"h1"),u.wc(3,"USERS"),u.Nb(),u.Nb(),u.Kb(4,"br"),u.Kb(5,"br"),u.uc(6,ae,104,13,"div",2),u.Nb(),u.uc(7,ie,8,0,"ng-template",null,3,u.vc),u.uc(9,oe,8,0,"ng-template",null,4,u.vc)),2&e&&(u.zb(6),u.fc("ngIf",t.users))},directives:[p.l,p.k,o.c,o.i,o.l],styles:[".headline[_ngcontent-%COMP%]{font-family:Alata;margin:40px auto;padding:10px;width:1000px;background-color:#c7bcba}table[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:#c7bcba}.tr-head[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:#0d0b0e;background-color:#c7bcba}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#374023}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#1c2920}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:6px}th[_ngcontent-%COMP%]{font-family:Alata}table[_ngcontent-%COMP%]{margin:auto}.branches-container[_ngcontent-%COMP%]{position:relative;text-align:center;align-items:center}input[_ngcontent-%COMP%]{width:70px;background-color:inherit;color:#c7bcba}input[_ngcontent-%COMP%]:focus{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.file-input[_ngcontent-%COMP%]{display:none}img[_ngcontent-%COMP%]{width:120px}button[_ngcontent-%COMP%]{cursor:pointer}"]}),be),ue=n("Pdnp"),se=n("v+Ac");function le(e,t){1&e&&(u.Ob(0,"th"),u.wc(1,"Car Vehicle License Number"),u.Nb())}function ge(e,t){if(1&e&&(u.Ob(0,"td"),u.wc(1),u.Nb()),2&e){var n=u.Zb().$implicit;u.zb(1),u.xc(n.carId)}}function he(e,t){if(1&e){var n=u.Pb();u.Ob(0,"tr"),u.uc(1,ge,2,1,"td",2),u.Ob(2,"td"),u.Ob(3,"input",11),u.Vb("change",(function(){u.mc(n);var e=t.index;return u.Zb(2).pickupDateChanged(e)}))("ngModelChange",(function(e){u.mc(n);var r=t.index;return u.Zb(2).pickupDateString[r]=e})),u.Nb(),u.Nb(),u.Ob(4,"td"),u.Ob(5,"input",11),u.Vb("change",(function(){u.mc(n);var e=t.index;return u.Zb(2).returnDateChanged(e)}))("ngModelChange",(function(e){u.mc(n);var r=t.index;return u.Zb(2).returnDateString[r]=e})),u.Nb(),u.Nb(),u.Ob(6,"td"),u.Ob(7,"input",11),u.Vb("change",(function(){u.mc(n);var e=t.index;return u.Zb(2).practicalReturnDateChanged(e)}))("ngModelChange",(function(e){u.mc(n);var r=t.index;return u.Zb(2).practicalReturnDateString[r]=e})),u.Nb(),u.Nb(),u.Ob(8,"td"),u.Ob(9,"input",12),u.Vb("ngModelChange",(function(e){return u.mc(n),t.$implicit.finalPayment=e})),u.Nb(),u.Nb(),u.Ob(10,"td",15),u.Vb("click",(function(){return u.mc(n),u.Zb(2).userChanging()})),u.wc(11),u.Nb(),u.Ob(12,"td"),u.Ob(13,"button",13),u.Vb("click",(function(){u.mc(n);var e=t.$implicit,r=u.Zb(2),c=u.lc(10),a=u.lc(8);return r.updateRent(e,c,a)})),u.wc(14,"UPDATE"),u.Nb(),u.Nb(),u.Ob(15,"td"),u.Ob(16,"button",14),u.Vb("click",(function(){u.mc(n);var e=t.$implicit,r=u.Zb(2),c=u.lc(14),a=u.lc(8);return r.deleteRent(e,c,a)})),u.wc(17,"DELETE"),u.Nb(),u.Nb(),u.Nb()}if(2&e){var r=t.$implicit,c=t.index,a=u.Zb(2);u.zb(1),u.fc("ngIf",!a.isOnlyOneCar),u.zb(2),u.fc("ngModel",a.pickupDateString[c]),u.zb(2),u.fc("ngModel",a.returnDateString[c]),u.zb(2),u.fc("ngModel",a.practicalReturnDateString[c]),u.zb(2),u.fc("ngModel",r.finalPayment),u.zb(2),u.xc(r.clientFullName)}}function pe(e,t){if(1&e){var n=u.Pb();u.Ob(0,"div"),u.Ob(1,"table",7),u.Ob(2,"thead"),u.Ob(3,"tr",8),u.uc(4,le,2,0,"th",2),u.Ob(5,"th"),u.wc(6,"Book Pickup Date"),u.Nb(),u.Ob(7,"th"),u.wc(8,"Book Estimated Return Date"),u.Nb(),u.Ob(9,"th"),u.wc(10,"Book Actual Return Date"),u.Nb(),u.Ob(11,"th"),u.wc(12,"Final Payment"),u.Nb(),u.Ob(13,"th"),u.wc(14,"Client Name"),u.Nb(),u.Kb(15,"th"),u.Kb(16,"th"),u.Nb(),u.Nb(),u.Ob(17,"tbody"),u.uc(18,he,18,6,"tr",9),u.Nb(),u.Nb(),u.Kb(19,"br"),u.Ob(20,"h4",1),u.wc(21,"Add New Rent"),u.Nb(),u.Ob(22,"table",7),u.Ob(23,"thead"),u.Ob(24,"tr",8),u.Ob(25,"th"),u.wc(26,"Car Vehicle License Number"),u.Nb(),u.Ob(27,"th"),u.wc(28,"Book Pickup Date"),u.Nb(),u.Ob(29,"th"),u.wc(30,"Book Estimated Return Date"),u.Nb(),u.Ob(31,"th"),u.wc(32,"Book Actual Return Date"),u.Nb(),u.Ob(33,"th"),u.wc(34,"Final Payment"),u.Nb(),u.Ob(35,"th"),u.wc(36,"Client ID"),u.Nb(),u.Kb(37,"th"),u.Kb(38,"th"),u.Nb(),u.Nb(),u.Ob(39,"tbody"),u.Ob(40,"tr"),u.Ob(41,"td"),u.Ob(42,"input",10),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().rentToAdd.carId=e})),u.Nb(),u.Nb(),u.Ob(43,"td"),u.Ob(44,"input",11),u.Vb("change",(function(){return u.mc(n),u.Zb().rentToAddPickupDateChanged()}))("ngModelChange",(function(e){return u.mc(n),u.Zb().rentToAddPickupDateString=e})),u.Nb(),u.Nb(),u.Ob(45,"td"),u.Ob(46,"input",11),u.Vb("change",(function(){return u.mc(n),u.Zb().rentToAddReturnDateChanged()}))("ngModelChange",(function(e){return u.mc(n),u.Zb().rentToAddReturnDateString=e})),u.Nb(),u.Nb(),u.Ob(47,"td"),u.Ob(48,"input",11),u.Vb("change",(function(){return u.mc(n),u.Zb().rentToAddPracticalReturnDateChanged()}))("ngModelChange",(function(e){return u.mc(n),u.Zb().rentToAddPracticalReturnDateString=e})),u.Nb(),u.Nb(),u.Ob(49,"td"),u.Ob(50,"input",12),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().rentToAdd.finalPayment=e})),u.Nb(),u.Nb(),u.Ob(51,"td"),u.Ob(52,"input",10),u.Vb("ngModelChange",(function(e){return u.mc(n),u.Zb().rentToAdd.userId=e})),u.Nb(),u.Nb(),u.Ob(53,"td"),u.Ob(54,"button",13),u.Vb("click",(function(){u.mc(n);var e=u.Zb(),t=u.lc(12),r=u.lc(8);return e.addRent(t,r)})),u.wc(55,"UPDATE"),u.Nb(),u.Nb(),u.Ob(56,"td"),u.Ob(57,"button",14),u.Vb("click",(function(){return u.mc(n),u.Zb().clearAddedRent()})),u.wc(58,"CLEAR"),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb()}if(2&e){var r=u.Zb();u.zb(4),u.fc("ngIf",!r.isOnlyOneCar),u.zb(14),u.fc("ngForOf",r.rents),u.zb(24),u.fc("ngModel",r.rentToAdd.carId),u.zb(2),u.fc("ngModel",r.rentToAddPickupDateString),u.zb(2),u.fc("ngModel",r.rentToAddReturnDateString),u.zb(2),u.fc("ngModel",r.rentToAddPracticalReturnDateString),u.zb(2),u.fc("ngModel",r.rentToAdd.finalPayment),u.zb(2),u.fc("ngModel",r.rentToAdd.userId)}}function fe(e,t){if(1&e){var n=u.Pb();u.Ob(0,"div",16),u.Ob(1,"i",17),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(2,"close"),u.Nb(),u.Ob(3,"h4"),u.wc(4,"Sorry, some error occured during the proccess. Please try again later."),u.Nb(),u.Ob(5,"div"),u.Ob(6,"button",13),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(7,"OK"),u.Nb(),u.Nb(),u.Nb()}}function me(e,t){if(1&e){var n=u.Pb();u.Ob(0,"div",16),u.Ob(1,"i",17),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(2,"close"),u.Nb(),u.Ob(3,"h4"),u.wc(4,"Rent updated successfuly by the system."),u.Nb(),u.Ob(5,"div"),u.Ob(6,"button",13),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(7,"OK"),u.Nb(),u.Nb(),u.Nb()}}function Oe(e,t){if(1&e){var n=u.Pb();u.Ob(0,"div",16),u.Ob(1,"i",17),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(2,"close"),u.Nb(),u.Ob(3,"h4"),u.wc(4,"Rent added successfuly by the system."),u.Nb(),u.Ob(5,"div"),u.Ob(6,"button",13),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(7,"OK"),u.Nb(),u.Nb(),u.Nb()}}function Ne(e,t){if(1&e){var n=u.Pb();u.Ob(0,"div",16),u.Ob(1,"i",17),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(2,"close"),u.Nb(),u.Ob(3,"h4"),u.wc(4,"Rent deleted successfuly by the system."),u.Nb(),u.Ob(5,"div"),u.Ob(6,"button",13),u.Vb("click",(function(){return u.mc(n),u.Zb().onCloseDialog()})),u.wc(7,"OK"),u.Nb(),u.Nb(),u.Nb()}}var ve,ye,Ce,we=((ye=function(){function e(t,n,r,c){_classCallCheck(this,e),this.activatedRoute=t,this.rentsService=n,this.usersService=r,this.dialog=c,this.rents=d.a.getState().rentsByCarId,this.books=d.a.getState().books,this.users=d.a.getState().users,this.returnDateString=[],this.pickupDateString=[],this.practicalReturnDateString=[],this.rentToAdd=new ue.a}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(t=this.activatedRoute.snapshot.params.carTypeId)){e.next=11;break}if(this.isOnlyOneCar=!0,this.unsubscribe=d.a.subscribe((function(){return c.rents=d.a.getState().rentsByCarId})),e.t0=0===d.a.getState().rentsByCarId.length,!e.t0){e.next=9;break}return e.next=8,this.rentsService.getRentsByCarId(t);case 8:console.log(this.rents);case 9:e.next=19;break;case 11:if(this.isOnlyOneCar=!1,this.unsubscribe=d.a.subscribe((function(){return c.rents=d.a.getState().rents})),e.t1=0===d.a.getState().rents.length,!e.t1){e.next=19;break}return e.next=17,this.rentsService.getAllRents();case 17:this.rents=d.a.getState().rents,console.log(this.rents);case 19:if(this.unsubscribe=d.a.subscribe((function(){return c.users=d.a.getState().users})),e.t2=0===d.a.getState().users.length,!e.t2){e.next=24;break}return e.next=24,this.usersService.getAllUsers();case 24:for(n=function(e){c.rents[e].clientFullName=c.users.find((function(t){return t.userId===c.rents[e].userId})).firstName+" "+c.users.find((function(t){return t.userId===c.rents[e].userId})).lastName,c.pickupDateString.push(new Date(c.rents[e].pickupDate).toISOString().slice(0,10)),c.returnDateString.push(new Date(c.rents[e].returnDate).toISOString().slice(0,10)),c.practicalReturnDateString.push(new Date(c.rents[e].practicalReturnDate).toISOString().slice(0,10))},r=0;r<this.rents.length;r++)n(r);console.log(t);case 27:case"end":return e.stop()}}),e,this)})))}},{key:"userChanging",value:function(){alert('Users management is only in "users" section.')}},{key:"pickupDateChanged",value:function(e){this.rents[e].pickupDate=new Date(this.pickupDateString[e])}},{key:"returnDateChanged",value:function(e){this.rents[e].returnDate=new Date(this.returnDateString[e])}},{key:"practicalReturnDateChanged",value:function(e){this.rents[e].practicalReturnDate=new Date(this.practicalReturnDateString[e])}},{key:"updateRent",value:function(e,t,n){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.rentsService.updateRent(e.rentId,e);case 2:c=r.sent,this.openDialog(c?t:n);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"deleteRent",value:function(e,t,n){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.rentsService.deleteRent(e.rentId);case 2:c=r.sent,this.openDialog(c?t:n);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"openDialog",value:function(e){this.localDialogRef=this.dialog.open(e,{width:"fit-content",panelClass:"custom-dialog-container"})}},{key:"rentToAddPickupDateChanged",value:function(){this.rentToAdd.pickupDate=new Date(this.rentToAddPickupDateString)}},{key:"rentToAddReturnDateChanged",value:function(){this.rentToAdd.returnDate=new Date(this.rentToAddReturnDateString)}},{key:"rentToAddPracticalReturnDateChanged",value:function(){this.rentToAdd.practicalReturnDate=new Date(this.rentToAddPracticalReturnDateString)}},{key:"addRent",value:function(e,t){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=this.rentsService.addRent(this.rentToAdd),this.openDialog(r?e:t);case 2:case"end":return n.stop()}}),n,this)})))}},{key:"clearAddedRent",value:function(){this.rentToAdd=new ue.a}},{key:"onCloseDialog",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.dialog.closeAll();case 1:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||ye)(u.Jb(l.a),u.Jb(se.a),u.Jb(ee.a),u.Jb(M.a))},ye.\u0275cmp=u.Db({type:ye,selectors:[["app-availabilities"]],decls:15,vars:1,consts:[[1,"books-container"],[1,"headline"],[4,"ngIf"],["error",""],["updated",""],["added",""],["deleted",""],[1,"table-container"],[1,"tr-head"],[4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange"],["type","date",3,"ngModel","change","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[3,"click"],[1,"box"],[1,"material-icons","icon-close",3,"click"]],template:function(e,t){1&e&&(u.Ob(0,"div",0),u.Ob(1,"div",1),u.Ob(2,"h1"),u.wc(3,"RESARVATIONS"),u.Nb(),u.Nb(),u.Kb(4,"br"),u.Kb(5,"br"),u.uc(6,pe,59,8,"div",2),u.Nb(),u.uc(7,fe,8,0,"ng-template",null,3,u.vc),u.uc(9,me,8,0,"ng-template",null,4,u.vc),u.uc(11,Oe,8,0,"ng-template",null,5,u.vc),u.uc(13,Ne,8,0,"ng-template",null,6,u.vc)),2&e&&(u.zb(6),u.fc("ngIf",t.rents))},directives:[p.l,p.k,o.c,o.i,o.l,o.n],styles:[".headline[_ngcontent-%COMP%]{font-family:Alata;margin:40px auto;padding:10px;width:1000px;background-color:#c7bcba}input[_ngcontent-%COMP%]{background-color:inherit;color:#c7bcba;width:120px}input[_ngcontent-%COMP%]:focus{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}table[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:#c7bcba}.tr-head[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{color:#0d0b0e;background-color:#c7bcba}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#374023}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#1c2920}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:6px}th[_ngcontent-%COMP%]{font-family:Alata}table[_ngcontent-%COMP%]{width:80%;margin:auto}button[_ngcontent-%COMP%]{cursor:pointer}"]}),ye),ke=((ve=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[]}}}]),e}()).\u0275mod=u.Hb({type:ve}),ve.\u0275inj=u.Gb({factory:function(e){return new(e||ve)},imports:[[p.b]]}),ve),Me=[{path:"dashboard",component:h,children:[{path:"edit-home",component:g},{path:"edit-branches",component:X},{path:"car-types",component:B},{path:"edit-availabilities/:carTypeId",component:we},{path:"edit-availabilities",component:we},{path:"edit-users",component:de}]}],Te=((Ce=function e(){_classCallCheck(this,e)}).\u0275mod=u.Hb({type:Ce}),Ce.\u0275inj=u.Gb({factory:function(e){return new(e||Ce)},imports:[[p.b,o.e,l.e.forChild(Me),U.a.forRoot({apiKey:"AIzaSyBipKMPPpcUPALUdBAmZ25cKLSj2BBoZA8"}),$.a,ke]]}),Ce)}}]);